/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * JDEmpleadoGestion.java
 *
 * Created on 02/11/2011, 16:22:40
 */
package zilleprojects.form;

import DAO.AbstractHibernateDAO;
import DAO.EPPDAO;
import DAO.EPPOperarioDAO;
import DAO.FrancosLicenciasDAO;
import DAO.FuncionDAO;
import DAO.OperarioDAO;

import Modelo.EPP;
import ViewModel.EPPItem;
import Modelo.EPPOperario;
import Modelo.EntidadAbstracta;
import Modelo.tablemodel.EPPItemTableModel;
import Modelo.Funcion;
import Modelo.Operario;

import Modelo.Parametro;
import Modelo.ParametrosSistema;
import Modelo.tablemodel.DetalleFrancosLicenciasTableModel;
import Utils.ComboEditorCelda;
import Utils.Permisos;
import Utils.SpinnerEditor;
import ViewModel.ItemFrancoLicencia;
import Vista.JDialogCustom;
import Vista.JTableCustom;
import Vista.OpcionPanel;
import Vista.PanelAzul;
import Vista.PanelEsquinaAzul;
import java.util.ArrayList;
import java.util.List;
import javax.swing.DefaultComboBoxModel;
import javax.swing.DefaultListModel;
import org.jdesktop.application.Action;
import org.jdesktop.application.Task;

/**
 *
 * @author matuu
 */
public class JDEmpleadoGestion extends JDialogCustom {

    /** Creates new form JDEmpleadoGestion */
    public JDEmpleadoGestion(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
        recargarListaEmpledos();
        FuncionDAO fdao = new FuncionDAO();
        fdao.conectar();
        ArrayList<EntidadAbstracta> func = fdao.cargarTodos();
        funcionCombo.removeAllElements();
        for (int i = 0; i < func.size(); i++) {
            funcionCombo.addElement((Funcion) func.get(i));

        }
        btnCancelar.setEnabled(false);
        btnModificar.setEnabled(false);
        btnGuardar.setEnabled(false);
        btnEPP.setEnabled(false);
        btnVacaciones.setEnabled(false);
        btnMasFuncion.setEnabled(false);
        comboFuncion.setEnabled(false);
        btnVencimientos.setEnabled(false);
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        vencimientos = new javax.swing.JDialog();
        jPanel4 = new PanelAzul();
        jPanel3 = new javax.swing.JPanel();
        jLabel12 = new javax.swing.JLabel();
        vto_carnet = new com.toedter.calendar.JDateChooser();
        jLabel14 = new javax.swing.JLabel();
        vto_psicofisico = new com.toedter.calendar.JDateChooser();
        jLabel16 = new javax.swing.JLabel();
        vto_cargapeligrosa = new com.toedter.calendar.JDateChooser();
        jLabel15 = new javax.swing.JLabel();
        vto_cargagral = new com.toedter.calendar.JDateChooser();
        descripcion2 = new javax.swing.JTextField();
        vto_otros2 = new com.toedter.calendar.JDateChooser();
        descripcion3 = new javax.swing.JTextField();
        vto_otros3 = new com.toedter.calendar.JDateChooser();
        descripcion1 = new javax.swing.JTextField();
        vto_otros1 = new com.toedter.calendar.JDateChooser();
        jButton2 = new javax.swing.JButton();
        jLabel6 = new javax.swing.JLabel();
        epp = new javax.swing.JDialog();
        jPanel5 = new PanelAzul();
        btnCerrar = new javax.swing.JButton();
        jScrollPane3 = new javax.swing.JScrollPane();
        tablaEpps = new JTableCustom();
        btnGuardarEPP = new javax.swing.JButton();
        francos = new javax.swing.JDialog();
        jPanel6 = new PanelAzul();
        jLabel8 = new javax.swing.JLabel();
        jButton1 = new javax.swing.JButton();
        jLabel9 = new javax.swing.JLabel();
        lblDiasAFavor = new javax.swing.JLabel();
        btnSalirFrancos = new javax.swing.JButton();
        jLabel10 = new javax.swing.JLabel();
        jLabel11 = new javax.swing.JLabel();
        lblLicenciaPorAnio = new javax.swing.JLabel();
        jPanel7 = new javax.swing.JPanel();
        jLabel21 = new javax.swing.JLabel();
        dateEntra1 = new com.toedter.calendar.JDateChooser();
        jLabel22 = new javax.swing.JLabel();
        jLabel23 = new javax.swing.JLabel();
        dateSale1 = new com.toedter.calendar.JDateChooser();
        txtSolicitados1 = new javax.swing.JFormattedTextField();
        jPanel8 = new javax.swing.JPanel();
        jLabel24 = new javax.swing.JLabel();
        dateEntra2 = new com.toedter.calendar.JDateChooser();
        jLabel25 = new javax.swing.JLabel();
        jLabel26 = new javax.swing.JLabel();
        dateSale2 = new com.toedter.calendar.JDateChooser();
        txtSolicitados2 = new javax.swing.JFormattedTextField();
        jLabel18 = new javax.swing.JLabel();
        lblFrancosAcumulados = new javax.swing.JLabel();
        btnGuardarFrancos = new javax.swing.JButton();
        txtAjusteFrancos = new javax.swing.JFormattedTextField();
        txtPagados = new javax.swing.JFormattedTextField();
        jLabel13 = new javax.swing.JLabel();
        txtAjusteLicencia = new javax.swing.JFormattedTextField();
        jLabel19 = new javax.swing.JLabel();
        lblLicenciasPendientesAnteriores = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        lblLicenciasAcumuladas = new javax.swing.JLabel();
        btnDetalles = new javax.swing.JButton();
        detalles = new javax.swing.JDialog();
        jPanel9 = new PanelEsquinaAzul();
        jScrollPane4 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        chooseFecha = new com.toedter.calendar.JDateChooser();
        jLabel27 = new javax.swing.JLabel();
        btnFiltrarDetalles = new javax.swing.JButton();
        btnCerrarDetalle = new javax.swing.JButton();
        cmbTipo = new javax.swing.JComboBox();
        jLabel28 = new javax.swing.JLabel();
        lblCantidad = new javax.swing.JLabel();
        panelAzul = new PanelAzul();
        jPanel1 = new javax.swing.JPanel();
        buscarEmpleado = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        listaEmpleados = new javax.swing.JList();
        botonModificar = new javax.swing.JButton();
        botonEliminar = new javax.swing.JButton();
        botonEliminar1 = new javax.swing.JButton();
        nuevoOperario = new javax.swing.JPanel();
        jLabel2 = new javax.swing.JLabel();
        nlegajo = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        cuil = new javax.swing.JTextField();
        jLabel4 = new javax.swing.JLabel();
        nombre = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        jScrollPane2 = new javax.swing.JScrollPane();
        observaciones = new javax.swing.JTextArea();
        jLabel1 = new javax.swing.JLabel();
        comboFuncion = new javax.swing.JComboBox();
        btnMasFuncion = new javax.swing.JButton();
        desaCheck = new javax.swing.JCheckBox();
        btnVencimientos = new javax.swing.JButton();
        btnVacaciones = new javax.swing.JButton();
        btnEPP = new javax.swing.JButton();
        jLabel7 = new javax.swing.JLabel();
        dateIngreso = new com.toedter.calendar.JDateChooser();
        lblanti = new javax.swing.JLabel();
        txtAntiguedad = new javax.swing.JLabel();
        txtDiasVacaciones = new javax.swing.JLabel();
        lblanti1 = new javax.swing.JLabel();
        botonSalir = new javax.swing.JButton();
        jPanel2 = new javax.swing.JPanel();
        btnCancelar = new javax.swing.JButton();
        btnModificar = new javax.swing.JButton();
        btnGuardar = new javax.swing.JButton();
        jLabel17 = new javax.swing.JLabel();
        operarioId = new javax.swing.JLabel();
        alertas = new javax.swing.JLabel();

        vencimientos.setMinimumSize(new java.awt.Dimension(839, 285));
        vencimientos.setModal(true);
        vencimientos.setName("vencimientos"); // NOI18N

        jPanel4.setMinimumSize(new java.awt.Dimension(839, 285));
        jPanel4.setName("jPanel4"); // NOI18N

        jPanel3.setName("jPanel3"); // NOI18N
        jPanel3.setOpaque(false);
        jPanel3.setLayout(new java.awt.GridLayout(4, 3, 15, 15));

        org.jdesktop.application.ResourceMap resourceMap = org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class).getContext().getResourceMap(JDEmpleadoGestion.class);
        jLabel12.setText(resourceMap.getString("jLabel12.text")); // NOI18N
        jLabel12.setName("jLabel12"); // NOI18N
        jPanel3.add(jLabel12);

        vto_carnet.setName("vto_carnet"); // NOI18N
        jPanel3.add(vto_carnet);

        jLabel14.setText(resourceMap.getString("jLabel14.text")); // NOI18N
        jLabel14.setName("jLabel14"); // NOI18N
        jPanel3.add(jLabel14);

        vto_psicofisico.setName("vto_psicofisico"); // NOI18N
        jPanel3.add(vto_psicofisico);

        jLabel16.setText(resourceMap.getString("jLabel16.text")); // NOI18N
        jLabel16.setName("jLabel16"); // NOI18N
        jPanel3.add(jLabel16);

        vto_cargapeligrosa.setName("vto_cargapeligrosa"); // NOI18N
        jPanel3.add(vto_cargapeligrosa);

        jLabel15.setText(resourceMap.getString("jLabel15.text")); // NOI18N
        jLabel15.setName("jLabel15"); // NOI18N
        jPanel3.add(jLabel15);

        vto_cargagral.setName("vto_cargagral"); // NOI18N
        jPanel3.add(vto_cargagral);

        descripcion2.setText(resourceMap.getString("descripcion2.text")); // NOI18N
        descripcion2.setDisabledTextColor(resourceMap.getColor("nlegajo.disabledTextColor")); // NOI18N
        descripcion2.setName("descripcion2"); // NOI18N
        jPanel3.add(descripcion2);

        vto_otros2.setName("vto_otros2"); // NOI18N
        jPanel3.add(vto_otros2);

        descripcion3.setText(resourceMap.getString("descripcion3.text")); // NOI18N
        descripcion3.setDisabledTextColor(resourceMap.getColor("nlegajo.disabledTextColor")); // NOI18N
        descripcion3.setName("descripcion3"); // NOI18N
        jPanel3.add(descripcion3);

        vto_otros3.setName("vto_otros3"); // NOI18N
        jPanel3.add(vto_otros3);

        descripcion1.setText(resourceMap.getString("descripcion1.text")); // NOI18N
        descripcion1.setDisabledTextColor(resourceMap.getColor("nlegajo.disabledTextColor")); // NOI18N
        descripcion1.setName("descripcion1"); // NOI18N
        jPanel3.add(descripcion1);

        vto_otros1.setName("vto_otros1"); // NOI18N
        jPanel3.add(vto_otros1);

        jButton2.setText(resourceMap.getString("btnCancelar.text")); // NOI18N
        jButton2.setName("btnCancelar"); // NOI18N
        jButton2.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                jButton2ActionPerformed(evt);
            }
        });

        jLabel6.setForeground(resourceMap.getColor("lblStatusVencimientos.foreground")); // NOI18N
        jLabel6.setText(resourceMap.getString("lblStatusVencimientos.text")); // NOI18N
        jLabel6.setName("lblStatusVencimientos"); // NOI18N

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel6, javax.swing.GroupLayout.DEFAULT_SIZE, 666, Short.MAX_VALUE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jButton2, javax.swing.GroupLayout.PREFERRED_SIZE, 131, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
            .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel4Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(jPanel3, javax.swing.GroupLayout.DEFAULT_SIZE, 815, Short.MAX_VALUE)
                    .addContainerGap()))
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addGap(218, 218, 218)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jButton2, javax.swing.GroupLayout.DEFAULT_SIZE, 33, Short.MAX_VALUE)
                    .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 30, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
            .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                .addGroup(jPanel4Layout.createSequentialGroup()
                    .addContainerGap()
                    .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, 190, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addContainerGap(61, Short.MAX_VALUE)))
        );

        javax.swing.GroupLayout vencimientosLayout = new javax.swing.GroupLayout(vencimientos.getContentPane());
        vencimientos.getContentPane().setLayout(vencimientosLayout);
        vencimientosLayout.setHorizontalGroup(
            vencimientosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel4, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        vencimientosLayout.setVerticalGroup(
            vencimientosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, 263, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        epp.setMinimumSize(new java.awt.Dimension(650, 390));
        epp.setModal(true);
        epp.setName("epp"); // NOI18N

        jPanel5.setMinimumSize(new java.awt.Dimension(650, 390));
        jPanel5.setName("jPanel5"); // NOI18N
        jPanel5.setPreferredSize(new java.awt.Dimension(650, 390));

        btnCerrar.setText(resourceMap.getString("btnCerrar.text")); // NOI18N
        btnCerrar.setName("btnCerrar"); // NOI18N
        btnCerrar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCerrarActionPerformed(evt);
            }
        });

        jScrollPane3.setName("jScrollPane3"); // NOI18N

        tablaEpps.setModel(new Modelo.tablemodel.EPPItemTableModel());
        tablaEpps.setName("tablaEpps"); // NOI18N
        jScrollPane3.setViewportView(tablaEpps);

        javax.swing.ActionMap actionMap = org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class).getContext().getActionMap(JDEmpleadoGestion.class, this);
        btnGuardarEPP.setAction(actionMap.get("guardarEPP")); // NOI18N
        btnGuardarEPP.setText(resourceMap.getString("btnGuardarEPP.text")); // NOI18N
        btnGuardarEPP.setName("btnGuardarEPP"); // NOI18N

        javax.swing.GroupLayout jPanel5Layout = new javax.swing.GroupLayout(jPanel5);
        jPanel5.setLayout(jPanel5Layout);
        jPanel5Layout.setHorizontalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane3, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.DEFAULT_SIZE, 341, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel5Layout.createSequentialGroup()
                        .addComponent(btnGuardarEPP)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(btnCerrar)))
                .addContainerGap())
        );
        jPanel5Layout.setVerticalGroup(
            jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel5Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jScrollPane3, javax.swing.GroupLayout.PREFERRED_SIZE, 295, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel5Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnCerrar)
                    .addComponent(btnGuardarEPP))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout eppLayout = new javax.swing.GroupLayout(epp.getContentPane());
        epp.getContentPane().setLayout(eppLayout);
        eppLayout.setHorizontalGroup(
            eppLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, 365, Short.MAX_VALUE)
        );
        eppLayout.setVerticalGroup(
            eppLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel5, javax.swing.GroupLayout.PREFERRED_SIZE, 350, Short.MAX_VALUE)
        );

        francos.setMinimumSize(new java.awt.Dimension(712, 463));
        francos.setModal(true);
        francos.setName("francos"); // NOI18N
        francos.setUndecorated(true);

        jPanel6.setBorder(new javax.swing.border.LineBorder(resourceMap.getColor("jPanel6.border.lineColor"), 1, true)); // NOI18N
        jPanel6.setMinimumSize(new java.awt.Dimension(712, 463));
        jPanel6.setName("jPanel6"); // NOI18N

        jLabel8.setText(resourceMap.getString("jLabel8.text")); // NOI18N
        jLabel8.setName("jLabel8"); // NOI18N

        jButton1.setAction(actionMap.get("CalcularDiasFrancos")); // NOI18N
        jButton1.setIcon(resourceMap.getIcon("jButton1.icon")); // NOI18N
        jButton1.setText(resourceMap.getString("jButton1.text")); // NOI18N
        jButton1.setName("jButton1"); // NOI18N

        jLabel9.setText(resourceMap.getString("jLabel9.text")); // NOI18N
        jLabel9.setName("jLabel9"); // NOI18N

        lblDiasAFavor.setFont(lblDiasAFavor.getFont().deriveFont(lblDiasAFavor.getFont().getStyle() | java.awt.Font.BOLD, lblDiasAFavor.getFont().getSize()+4));
        lblDiasAFavor.setForeground(resourceMap.getColor("lblDiasAFavor.foreground")); // NOI18N
        lblDiasAFavor.setText(resourceMap.getString("lblDiasAFavor.text")); // NOI18N
        lblDiasAFavor.setName("lblDiasAFavor"); // NOI18N

        btnSalirFrancos.setIcon(resourceMap.getIcon("btnSalirFrancos.icon")); // NOI18N
        btnSalirFrancos.setText(resourceMap.getString("btnSalirFrancos.text")); // NOI18N
        btnSalirFrancos.setName("btnSalirFrancos"); // NOI18N
        btnSalirFrancos.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnSalirFrancosActionPerformed(evt);
            }
        });

        jLabel10.setText(resourceMap.getString("jLabel10.text")); // NOI18N
        jLabel10.setName("jLabel10"); // NOI18N

        jLabel11.setText(resourceMap.getString("jLabel11.text")); // NOI18N
        jLabel11.setName("jLabel11"); // NOI18N

        lblLicenciaPorAnio.setText(resourceMap.getString("lblLicenciaPorAnio.text")); // NOI18N
        lblLicenciaPorAnio.setName("lblLicenciaPorAnio"); // NOI18N

        jPanel7.setBorder(javax.swing.BorderFactory.createTitledBorder(resourceMap.getString("jPanel7.border.title"))); // NOI18N
        jPanel7.setName("jPanel7"); // NOI18N
        jPanel7.setOpaque(false);

        jLabel21.setText(resourceMap.getString("jLabel21.text")); // NOI18N
        jLabel21.setName("jLabel21"); // NOI18N

        dateEntra1.setName("dateEntra1"); // NOI18N

        jLabel22.setText(resourceMap.getString("jLabel22.text")); // NOI18N
        jLabel22.setName("jLabel22"); // NOI18N

        jLabel23.setText(resourceMap.getString("jLabel23.text")); // NOI18N
        jLabel23.setName("jLabel23"); // NOI18N

        dateSale1.setName("dateSale1"); // NOI18N

        txtSolicitados1.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0"))));
        txtSolicitados1.setName("txtSolicitados1"); // NOI18N
        txtSolicitados1.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtSolicitados1KeyReleased(evt);
            }
        });

        javax.swing.GroupLayout jPanel7Layout = new javax.swing.GroupLayout(jPanel7);
        jPanel7.setLayout(jPanel7Layout);
        jPanel7Layout.setHorizontalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel21)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(txtSolicitados1, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabel23)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(dateSale1, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(36, 36, 36)
                .addComponent(jLabel22)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(dateEntra1, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(109, Short.MAX_VALUE))
        );

        jPanel7Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {dateEntra1, dateSale1});

        jPanel7Layout.setVerticalGroup(
            jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel7Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel7Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel23)
                    .addComponent(jLabel22)
                    .addComponent(txtSolicitados1, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel21)
                    .addComponent(dateSale1, javax.swing.GroupLayout.PREFERRED_SIZE, 29, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(dateEntra1, javax.swing.GroupLayout.PREFERRED_SIZE, 31, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(23, Short.MAX_VALUE))
        );

        jPanel7Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {dateEntra1, dateSale1});

        jPanel8.setBorder(javax.swing.BorderFactory.createTitledBorder(resourceMap.getString("jPanel8.border.title"))); // NOI18N
        jPanel8.setName("jPanel8"); // NOI18N
        jPanel8.setOpaque(false);

        jLabel24.setText(resourceMap.getString("jLabel24.text")); // NOI18N
        jLabel24.setName("jLabel24"); // NOI18N

        dateEntra2.setName("dateEntra2"); // NOI18N

        jLabel25.setText(resourceMap.getString("jLabel25.text")); // NOI18N
        jLabel25.setName("jLabel25"); // NOI18N

        jLabel26.setText(resourceMap.getString("jLabel26.text")); // NOI18N
        jLabel26.setName("jLabel26"); // NOI18N

        dateSale2.setName("dateSale2"); // NOI18N

        txtSolicitados2.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0"))));
        txtSolicitados2.setName("txtSolicitados2"); // NOI18N
        txtSolicitados2.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtSolicitados2KeyReleased(evt);
            }
        });

        javax.swing.GroupLayout jPanel8Layout = new javax.swing.GroupLayout(jPanel8);
        jPanel8.setLayout(jPanel8Layout);
        jPanel8Layout.setHorizontalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel24)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(txtSolicitados2, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(jLabel26)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(dateSale2, javax.swing.GroupLayout.PREFERRED_SIZE, 119, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(36, 36, 36)
                .addComponent(jLabel25)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(dateEntra2, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(109, Short.MAX_VALUE))
        );

        jPanel8Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {dateEntra2, dateSale2});

        jPanel8Layout.setVerticalGroup(
            jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel8Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel8Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel26)
                    .addComponent(jLabel25)
                    .addComponent(txtSolicitados2, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel24)
                    .addComponent(dateSale2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(dateEntra2, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(22, Short.MAX_VALUE))
        );

        jPanel8Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {dateEntra2, dateSale2});

        jLabel18.setText(resourceMap.getString("jLabel18.text")); // NOI18N
        jLabel18.setName("jLabel18"); // NOI18N

        lblFrancosAcumulados.setFont(lblFrancosAcumulados.getFont().deriveFont(lblFrancosAcumulados.getFont().getStyle() | java.awt.Font.BOLD, lblFrancosAcumulados.getFont().getSize()+2));
        lblFrancosAcumulados.setForeground(resourceMap.getColor("lblDiasAFavor.foreground")); // NOI18N
        lblFrancosAcumulados.setText(resourceMap.getString("lblFrancosAcumulados.text")); // NOI18N
        lblFrancosAcumulados.setName("lblFrancosAcumulados"); // NOI18N

        btnGuardarFrancos.setAction(actionMap.get("GuardarDatosFrancos")); // NOI18N
        btnGuardarFrancos.setIcon(resourceMap.getIcon("btnGuardarFrancos.icon")); // NOI18N
        btnGuardarFrancos.setText(resourceMap.getString("btnGuardarFrancos.text")); // NOI18N
        btnGuardarFrancos.setName("btnGuardarFrancos"); // NOI18N

        txtAjusteFrancos.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0"))));
        txtAjusteFrancos.setText(resourceMap.getString("txtAjusteFrancos.text")); // NOI18N
        txtAjusteFrancos.setName("txtAjusteFrancos"); // NOI18N
        txtAjusteFrancos.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtAjusteFrancosKeyReleased(evt);
            }
        });

        txtPagados.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0"))));
        txtPagados.setName("txtPagados"); // NOI18N
        txtPagados.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtPagadosKeyReleased(evt);
            }
        });

        jLabel13.setText(resourceMap.getString("jLabel13.text")); // NOI18N
        jLabel13.setName("jLabel13"); // NOI18N

        txtAjusteLicencia.setFormatterFactory(new javax.swing.text.DefaultFormatterFactory(new javax.swing.text.NumberFormatter(new java.text.DecimalFormat("#0"))));
        txtAjusteLicencia.setName("txtAjusteLicencia"); // NOI18N
        txtAjusteLicencia.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                txtAjusteLicenciaKeyReleased(evt);
            }
        });

        jLabel19.setText(resourceMap.getString("jLabel19.text")); // NOI18N
        jLabel19.setName("jLabel19"); // NOI18N

        lblLicenciasPendientesAnteriores.setText(resourceMap.getString("lblLicenciasPendientesAnteriores.text")); // NOI18N
        lblLicenciasPendientesAnteriores.setName("lblLicenciasPendientesAnteriores"); // NOI18N

        jLabel20.setText(resourceMap.getString("jLabel20.text")); // NOI18N
        jLabel20.setName("jLabel20"); // NOI18N

        lblLicenciasAcumuladas.setFont(lblLicenciasAcumuladas.getFont().deriveFont(lblLicenciasAcumuladas.getFont().getStyle() | java.awt.Font.BOLD, lblLicenciasAcumuladas.getFont().getSize()+2));
        lblLicenciasAcumuladas.setForeground(resourceMap.getColor("lblLicenciasAcumuladas.foreground")); // NOI18N
        lblLicenciasAcumuladas.setText(resourceMap.getString("lblLicenciasAcumuladas.text")); // NOI18N
        lblLicenciasAcumuladas.setName("lblLicenciasAcumuladas"); // NOI18N

        btnDetalles.setAction(actionMap.get("MostrarDetallesFrancosLicencias")); // NOI18N
        btnDetalles.setIcon(resourceMap.getIcon("btnDetalles.icon")); // NOI18N
        btnDetalles.setText(resourceMap.getString("btnDetalles.text")); // NOI18N
        btnDetalles.setName("btnDetalles"); // NOI18N

        javax.swing.GroupLayout jPanel6Layout = new javax.swing.GroupLayout(jPanel6);
        jPanel6.setLayout(jPanel6Layout);
        jPanel6Layout.setHorizontalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addComponent(jLabel8)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtAjusteFrancos, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel13)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtAjusteLicencia, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(jLabel10)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(txtPagados, javax.swing.GroupLayout.PREFERRED_SIZE, 70, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addComponent(jLabel18)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(lblFrancosAcumulados, javax.swing.GroupLayout.PREFERRED_SIZE, 122, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addComponent(jLabel20)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(lblLicenciasAcumuladas, javax.swing.GroupLayout.PREFERRED_SIZE, 122, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(jPanel7, javax.swing.GroupLayout.DEFAULT_SIZE, 686, Short.MAX_VALUE)
                    .addComponent(jPanel8, javax.swing.GroupLayout.DEFAULT_SIZE, 686, Short.MAX_VALUE)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel11)
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addComponent(jLabel9)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(lblDiasAFavor, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 44, Short.MAX_VALUE)
                                .addComponent(btnDetalles, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE)))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 18, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addComponent(lblLicenciaPorAnio, javax.swing.GroupLayout.PREFERRED_SIZE, 102, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(jLabel19)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(lblLicenciasPendientesAnteriores, javax.swing.GroupLayout.DEFAULT_SIZE, 160, Short.MAX_VALUE))
                            .addGroup(jPanel6Layout.createSequentialGroup()
                                .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 103, Short.MAX_VALUE)
                                .addGap(18, 18, 18)
                                .addComponent(btnGuardarFrancos, javax.swing.GroupLayout.PREFERRED_SIZE, 151, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(18, 18, 18)
                                .addComponent(btnSalirFrancos)))))
                .addContainerGap())
        );

        jPanel6Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {txtAjusteFrancos, txtPagados});

        jPanel6Layout.setVerticalGroup(
            jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel6Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel8)
                    .addComponent(txtAjusteFrancos, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel13)
                    .addComponent(txtAjusteLicencia, javax.swing.GroupLayout.PREFERRED_SIZE, 33, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel10)
                    .addComponent(txtPagados, javax.swing.GroupLayout.PREFERRED_SIZE, 32, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addComponent(jPanel7, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(18, 18, 18)
                .addComponent(jPanel8, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(27, 27, 27)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel11)
                    .addComponent(lblLicenciaPorAnio)
                    .addComponent(jLabel19)
                    .addComponent(lblLicenciasPendientesAnteriores))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel18)
                    .addComponent(lblFrancosAcumulados, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel20)
                    .addComponent(lblLicenciasAcumuladas, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addGroup(jPanel6Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                            .addComponent(btnSalirFrancos, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(btnGuardarFrancos, javax.swing.GroupLayout.DEFAULT_SIZE, 37, Short.MAX_VALUE)
                            .addComponent(jButton1, javax.swing.GroupLayout.PREFERRED_SIZE, 26, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(lblDiasAFavor, javax.swing.GroupLayout.PREFERRED_SIZE, 21, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(jLabel9))
                        .addGap(38, 38, 38))
                    .addGroup(jPanel6Layout.createSequentialGroup()
                        .addComponent(btnDetalles, javax.swing.GroupLayout.PREFERRED_SIZE, 37, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap())))
        );

        jPanel6Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {btnDetalles, btnGuardarFrancos, btnSalirFrancos, jButton1, txtAjusteFrancos, txtPagados});

        javax.swing.GroupLayout francosLayout = new javax.swing.GroupLayout(francos.getContentPane());
        francos.getContentPane().setLayout(francosLayout);
        francosLayout.setHorizontalGroup(
            francosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel6, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        francosLayout.setVerticalGroup(
            francosLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel6, javax.swing.GroupLayout.PREFERRED_SIZE, 434, Short.MAX_VALUE)
        );

        detalles.setLocationByPlatform(true);
        detalles.setMinimumSize(new java.awt.Dimension(747, 471));
        detalles.setModal(true);
        detalles.setName("detalles"); // NOI18N
        detalles.setResizable(false);

        jPanel9.setMinimumSize(new java.awt.Dimension(747, 451));
        jPanel9.setName("jPanel9"); // NOI18N

        jScrollPane4.setName("jScrollPane4"); // NOI18N

        jTable1.setModel(detalleTableModel);
        jTable1.setName("jTable1"); // NOI18N
        jScrollPane4.setViewportView(jTable1);

        chooseFecha.setName("chooseFecha"); // NOI18N

        jLabel27.setText(resourceMap.getString("jLabel27.text")); // NOI18N
        jLabel27.setName("jLabel27"); // NOI18N

        btnFiltrarDetalles.setAction(actionMap.get("recargarDetalles")); // NOI18N
        btnFiltrarDetalles.setText(resourceMap.getString("btnFiltrarDetalles.text")); // NOI18N
        btnFiltrarDetalles.setName("btnFiltrarDetalles"); // NOI18N

        btnCerrarDetalle.setText(resourceMap.getString("btnCerrarDetalle.text")); // NOI18N
        btnCerrarDetalle.setName("btnCerrarDetalle"); // NOI18N
        btnCerrarDetalle.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCerrarDetalleActionPerformed(evt);
            }
        });

        cmbTipo.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Francos y Licencias", "Sólo francos", "Sólo licencias"}));
        cmbTipo.setName("cmbTipo"); // NOI18N

        jLabel28.setText(resourceMap.getString("jLabel28.text")); // NOI18N
        jLabel28.setName("jLabel28"); // NOI18N

        lblCantidad.setText(resourceMap.getString("lblCantidad.text")); // NOI18N
        lblCantidad.setName("lblCantidad"); // NOI18N

        javax.swing.GroupLayout jPanel9Layout = new javax.swing.GroupLayout(jPanel9);
        jPanel9.setLayout(jPanel9Layout);
        jPanel9Layout.setHorizontalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jScrollPane4, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 723, Short.MAX_VALUE)
                    .addGroup(javax.swing.GroupLayout.Alignment.LEADING, jPanel9Layout.createSequentialGroup()
                        .addComponent(jLabel27)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(chooseFecha, javax.swing.GroupLayout.PREFERRED_SIZE, 139, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel28)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cmbTipo, javax.swing.GroupLayout.PREFERRED_SIZE, 180, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(btnFiltrarDetalles, javax.swing.GroupLayout.PREFERRED_SIZE, 108, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(lblCantidad, javax.swing.GroupLayout.DEFAULT_SIZE, 97, Short.MAX_VALUE)
                        .addGap(18, 18, 18)
                        .addComponent(btnCerrarDetalle, javax.swing.GroupLayout.PREFERRED_SIZE, 43, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        jPanel9Layout.setVerticalGroup(
            jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel9Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel9Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel27)
                    .addComponent(chooseFecha, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnCerrarDetalle)
                    .addComponent(cmbTipo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel28)
                    .addComponent(btnFiltrarDetalles)
                    .addComponent(lblCantidad))
                .addGap(18, 18, 18)
                .addComponent(jScrollPane4, javax.swing.GroupLayout.DEFAULT_SIZE, 384, Short.MAX_VALUE)
                .addContainerGap())
        );

        javax.swing.GroupLayout detallesLayout = new javax.swing.GroupLayout(detalles.getContentPane());
        detalles.getContentPane().setLayout(detallesLayout);
        detallesLayout.setHorizontalGroup(
            detallesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        detallesLayout.setVerticalGroup(
            detallesLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel9, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle(resourceMap.getString("Form.title")); // NOI18N
        setLocationByPlatform(true);
        setMinimumSize(new java.awt.Dimension(952, 501));
        setModal(true);
        setName("Form"); // NOI18N
        setResizable(false);

        panelAzul.setMinimumSize(new java.awt.Dimension(952, 466));
        panelAzul.setName("panelAzul"); // NOI18N

        jPanel1.setName("jPanel1"); // NOI18N
        jPanel1.setOpaque(false);

        buscarEmpleado.setText(resourceMap.getString("buscarEmpleado.text")); // NOI18N
        buscarEmpleado.setToolTipText(resourceMap.getString("buscarEmpleado.toolTipText")); // NOI18N
        buscarEmpleado.setMinimumSize(new java.awt.Dimension(10, 30));
        buscarEmpleado.setName("buscarEmpleado"); // NOI18N
        buscarEmpleado.setPreferredSize(new java.awt.Dimension(10, 30));
        buscarEmpleado.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                buscarEmpleadoFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                buscarEmpleadoFocusLost(evt);
            }
        });
        buscarEmpleado.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                buscarEmpleadoKeyReleased(evt);
            }
        });

        jScrollPane1.setName("jScrollPane1"); // NOI18N

        listaEmpleados.setModel(empleadosList);
        listaEmpleados.setSelectionMode(javax.swing.ListSelectionModel.SINGLE_SELECTION);
        listaEmpleados.setName("listaEmpleados"); // NOI18N
        listaEmpleados.addListSelectionListener(new javax.swing.event.ListSelectionListener() {
            public void valueChanged(javax.swing.event.ListSelectionEvent evt) {
                listaEmpleadosValueChanged(evt);
            }
        });
        jScrollPane1.setViewportView(listaEmpleados);

        botonModificar.setIcon(resourceMap.getIcon("botonModificar.icon")); // NOI18N
        botonModificar.setText(resourceMap.getString("botonModificar.text")); // NOI18N
        botonModificar.setName("botonModificar"); // NOI18N
        botonModificar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                botonModificarActionPerformed(evt);
            }
        });

        botonEliminar.setIcon(resourceMap.getIcon("botonEliminar.icon")); // NOI18N
        botonEliminar.setText(resourceMap.getString("botonEliminar.text")); // NOI18N
        botonEliminar.setName("botonEliminar"); // NOI18N
        botonEliminar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                botonEliminarActionPerformed(evt);
            }
        });

        botonEliminar1.setAction(actionMap.get("eliminarEmpleado")); // NOI18N
        botonEliminar1.setIcon(resourceMap.getIcon("botonEliminar1.icon")); // NOI18N
        botonEliminar1.setText(resourceMap.getString("botonEliminar1.text")); // NOI18N
        botonEliminar1.setName("botonEliminar1"); // NOI18N

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(5, 5, 5)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel1Layout.createSequentialGroup()
                        .addComponent(botonEliminar, javax.swing.GroupLayout.PREFERRED_SIZE, 66, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(10, 10, 10)
                        .addComponent(botonModificar, javax.swing.GroupLayout.PREFERRED_SIZE, 66, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(10, 10, 10)
                        .addComponent(botonEliminar1, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(buscarEmpleado, javax.swing.GroupLayout.PREFERRED_SIZE, 258, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
        );

        jPanel1Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {botonEliminar, botonEliminar1, botonModificar});

        jPanel1Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {buscarEmpleado, jScrollPane1});

        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(19, 19, 19)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(botonEliminar)
                    .addComponent(botonModificar)
                    .addComponent(botonEliminar1))
                .addGap(10, 10, 10)
                .addComponent(buscarEmpleado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(10, 10, 10)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.DEFAULT_SIZE, 378, Short.MAX_VALUE))
        );

        nuevoOperario.setBorder(new javax.swing.border.LineBorder(resourceMap.getColor("nuevoOperario.border.lineColor"), 1, true)); // NOI18N
        nuevoOperario.setToolTipText(resourceMap.getString("nuevoOperario.toolTipText")); // NOI18N
        nuevoOperario.setName("nuevoOperario"); // NOI18N
        nuevoOperario.setOpaque(false);

        jLabel2.setText(resourceMap.getString("jLabel2.text")); // NOI18N
        jLabel2.setName("jLabel2"); // NOI18N

        nlegajo.setText(resourceMap.getString("nlegajo.text")); // NOI18N
        nlegajo.setDisabledTextColor(resourceMap.getColor("nlegajo.disabledTextColor")); // NOI18N
        nlegajo.setEnabled(false);
        nlegajo.setName("nlegajo"); // NOI18N

        jLabel3.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        jLabel3.setText(resourceMap.getString("jLabel3.text")); // NOI18N
        jLabel3.setHorizontalTextPosition(javax.swing.SwingConstants.RIGHT);
        jLabel3.setName("jLabel3"); // NOI18N

        cuil.setText(resourceMap.getString("cuil.text")); // NOI18N
        cuil.setDisabledTextColor(resourceMap.getColor("nlegajo.disabledTextColor")); // NOI18N
        cuil.setEnabled(false);
        cuil.setName("cuil"); // NOI18N

        jLabel4.setText(resourceMap.getString("jLabel4.text")); // NOI18N
        jLabel4.setName("jLabel4"); // NOI18N

        nombre.setText(resourceMap.getString("nombre.text")); // NOI18N
        nombre.setDisabledTextColor(resourceMap.getColor("nlegajo.disabledTextColor")); // NOI18N
        nombre.setEnabled(false);
        nombre.setName("nombre"); // NOI18N
        nombre.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                nombreFocusLost(evt);
            }
        });
        nombre.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                nombreKeyTyped(evt);
            }
        });

        jLabel5.setText(resourceMap.getString("jLabel5.text")); // NOI18N
        jLabel5.setName("jLabel5"); // NOI18N

        jScrollPane2.setName("jScrollPane2"); // NOI18N

        observaciones.setColumns(25);
        observaciones.setRows(6);
        observaciones.setTabSize(4);
        observaciones.setDisabledTextColor(resourceMap.getColor("nlegajo.disabledTextColor")); // NOI18N
        observaciones.setEnabled(false);
        observaciones.setName("observaciones"); // NOI18N
        observaciones.setPreferredSize(new java.awt.Dimension(295, 90));
        jScrollPane2.setViewportView(observaciones);

        jLabel1.setText(resourceMap.getString("jLabel1.text")); // NOI18N
        jLabel1.setName("jLabel1"); // NOI18N

        comboFuncion.setModel(funcionCombo);
        comboFuncion.setName("comboFuncion"); // NOI18N

        btnMasFuncion.setAction(actionMap.get("agregarFuncion")); // NOI18N
        btnMasFuncion.setIcon(resourceMap.getIcon("btnMasFuncion.icon")); // NOI18N
        btnMasFuncion.setText(resourceMap.getString("btnMasFuncion.text")); // NOI18N
        btnMasFuncion.setName("btnMasFuncion"); // NOI18N

        desaCheck.setText(resourceMap.getString("desaCheck.text")); // NOI18N
        desaCheck.setEnabled(false);
        desaCheck.setName("desaCheck"); // NOI18N

        btnVencimientos.setAction(actionMap.get("showVencimientos")); // NOI18N
        btnVencimientos.setText(resourceMap.getString("btnVencimientos.text")); // NOI18N
        btnVencimientos.setName("btnVencimientos"); // NOI18N

        btnVacaciones.setAction(actionMap.get("showFrancos")); // NOI18N
        btnVacaciones.setText(resourceMap.getString("btnVacaciones.text")); // NOI18N
        btnVacaciones.setName("btnVacaciones"); // NOI18N

        btnEPP.setAction(actionMap.get("showEPP")); // NOI18N
        btnEPP.setText(resourceMap.getString("btnEPP.text")); // NOI18N
        btnEPP.setName("btnEPP"); // NOI18N

        jLabel7.setText(resourceMap.getString("jLabel7.text")); // NOI18N
        jLabel7.setName("jLabel7"); // NOI18N

        dateIngreso.setEnabled(false);
        dateIngreso.setName("dateIngreso"); // NOI18N
        dateIngreso.addPropertyChangeListener(new java.beans.PropertyChangeListener() {
            public void propertyChange(java.beans.PropertyChangeEvent evt) {
                dateIngresoPropertyChange(evt);
            }
        });

        lblanti.setText(resourceMap.getString("lblanti.text")); // NOI18N
        lblanti.setName("lblanti"); // NOI18N

        txtAntiguedad.setFont(resourceMap.getFont("txtAntiguedad.font")); // NOI18N
        txtAntiguedad.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        txtAntiguedad.setText(resourceMap.getString("txtAntiguedad.text")); // NOI18N
        txtAntiguedad.setName("txtAntiguedad"); // NOI18N

        txtDiasVacaciones.setFont(resourceMap.getFont("txtDiasVacaciones.font")); // NOI18N
        txtDiasVacaciones.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        txtDiasVacaciones.setText(resourceMap.getString("txtDiasVacaciones.text")); // NOI18N
        txtDiasVacaciones.setName("txtDiasVacaciones"); // NOI18N

        lblanti1.setHorizontalAlignment(javax.swing.SwingConstants.RIGHT);
        lblanti1.setText(resourceMap.getString("lblanti1.text")); // NOI18N
        lblanti1.setName("lblanti1"); // NOI18N

        javax.swing.GroupLayout nuevoOperarioLayout = new javax.swing.GroupLayout(nuevoOperario);
        nuevoOperario.setLayout(nuevoOperarioLayout);
        nuevoOperarioLayout.setHorizontalGroup(
            nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(nuevoOperarioLayout.createSequentialGroup()
                .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(nuevoOperarioLayout.createSequentialGroup()
                        .addGap(12, 12, 12)
                        .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(nuevoOperarioLayout.createSequentialGroup()
                                .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addGap(10, 10, 10)
                                .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(nuevoOperarioLayout.createSequentialGroup()
                                        .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                            .addComponent(comboFuncion, javax.swing.GroupLayout.Alignment.LEADING, 0, 339, Short.MAX_VALUE)
                                            .addComponent(btnVacaciones, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                            .addComponent(btnVencimientos, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                        .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                            .addGroup(nuevoOperarioLayout.createSequentialGroup()
                                                .addComponent(btnMasFuncion)
                                                .addGap(27, 27, 27)
                                                .addComponent(desaCheck, javax.swing.GroupLayout.PREFERRED_SIZE, 113, javax.swing.GroupLayout.PREFERRED_SIZE)
                                                .addGap(54, 54, 54))
                                            .addComponent(btnEPP, javax.swing.GroupLayout.DEFAULT_SIZE, 296, Short.MAX_VALUE)))
                                    .addGroup(nuevoOperarioLayout.createSequentialGroup()
                                        .addComponent(dateIngreso, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(txtAntiguedad, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(lblanti)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 123, Short.MAX_VALUE)
                                        .addComponent(lblanti1, javax.swing.GroupLayout.PREFERRED_SIZE, 161, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                        .addComponent(txtDiasVacaciones, javax.swing.GroupLayout.PREFERRED_SIZE, 28, javax.swing.GroupLayout.PREFERRED_SIZE))))
                            .addGroup(nuevoOperarioLayout.createSequentialGroup()
                                .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING, false)
                                    .addComponent(jLabel5, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(jLabel4, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                                    .addComponent(jLabel2, javax.swing.GroupLayout.Alignment.LEADING, javax.swing.GroupLayout.DEFAULT_SIZE, 153, Short.MAX_VALUE))
                                .addGap(57, 57, 57)
                                .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                                    .addGroup(nuevoOperarioLayout.createSequentialGroup()
                                        .addComponent(nlegajo, javax.swing.GroupLayout.PREFERRED_SIZE, 245, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(10, 10, 10)
                                        .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                                        .addGap(10, 10, 10)
                                        .addComponent(cuil, javax.swing.GroupLayout.DEFAULT_SIZE, 244, Short.MAX_VALUE))
                                    .addComponent(nombre, javax.swing.GroupLayout.DEFAULT_SIZE, 709, Short.MAX_VALUE)
                                    .addComponent(jScrollPane2, javax.swing.GroupLayout.DEFAULT_SIZE, 709, Short.MAX_VALUE)))))
                    .addGroup(nuevoOperarioLayout.createSequentialGroup()
                        .addContainerGap()
                        .addComponent(jLabel7, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)))
                .addContainerGap())
        );
        nuevoOperarioLayout.setVerticalGroup(
            nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(nuevoOperarioLayout.createSequentialGroup()
                .addGap(12, 12, 12)
                .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(cuil, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel2, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(nlegajo, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(10, 10, 10)
                .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(nombre, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(10, 10, 10)
                .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jScrollPane2, javax.swing.GroupLayout.PREFERRED_SIZE, 93, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(10, 10, 10)
                .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel1, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(comboFuncion, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnMasFuncion, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(desaCheck, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                        .addComponent(lblanti, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(txtDiasVacaciones, javax.swing.GroupLayout.PREFERRED_SIZE, 22, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addComponent(lblanti1, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(txtAntiguedad, javax.swing.GroupLayout.PREFERRED_SIZE, 24, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel7, javax.swing.GroupLayout.DEFAULT_SIZE, 24, Short.MAX_VALUE)
                    .addComponent(dateIngreso, javax.swing.GroupLayout.DEFAULT_SIZE, 24, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(nuevoOperarioLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnVencimientos)
                    .addComponent(btnEPP))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(btnVacaciones)
                .addGap(49, 49, 49))
        );

        nuevoOperarioLayout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {lblanti, txtAntiguedad, txtDiasVacaciones});

        botonSalir.setIcon(resourceMap.getIcon("botonSalir.icon")); // NOI18N
        botonSalir.setText(resourceMap.getString("botonSalir.text")); // NOI18N
        botonSalir.setName("botonSalir"); // NOI18N
        botonSalir.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                botonSalirActionPerformed(evt);
            }
        });

        jPanel2.setName("jPanel2"); // NOI18N
        jPanel2.setOpaque(false);

        btnCancelar.setIcon(resourceMap.getIcon("btnCancelar.icon")); // NOI18N
        btnCancelar.setText(resourceMap.getString("btnCancelar.text")); // NOI18N
        btnCancelar.setEnabled(false);
        btnCancelar.setName("btnCancelar"); // NOI18N
        btnCancelar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCancelarActionPerformed(evt);
            }
        });

        btnModificar.setAction(actionMap.get("modificarOperario")); // NOI18N
        btnModificar.setIcon(resourceMap.getIcon("btnModificar.icon")); // NOI18N
        btnModificar.setText(resourceMap.getString("btnModificar.text")); // NOI18N
        btnModificar.setName("btnModificar"); // NOI18N

        btnGuardar.setAction(actionMap.get("agregarOperarios")); // NOI18N
        btnGuardar.setIcon(resourceMap.getIcon("btnGuardar.icon")); // NOI18N
        btnGuardar.setText(resourceMap.getString("btnGuardar.text")); // NOI18N
        btnGuardar.setName("btnGuardar"); // NOI18N

        jLabel17.setText(resourceMap.getString("jLabel17.text")); // NOI18N
        jLabel17.setName("jLabel17"); // NOI18N

        operarioId.setFont(resourceMap.getFont("operarioId.font")); // NOI18N
        operarioId.setForeground(resourceMap.getColor("operarioId.foreground")); // NOI18N
        operarioId.setHorizontalAlignment(javax.swing.SwingConstants.LEFT);
        operarioId.setText(resourceMap.getString("operarioId.text")); // NOI18N
        operarioId.setName("operarioId"); // NOI18N

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel17)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(operarioId, javax.swing.GroupLayout.PREFERRED_SIZE, 220, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 199, Short.MAX_VALUE)
                .addComponent(btnGuardar)
                .addGap(18, 18, 18)
                .addComponent(btnModificar)
                .addGap(18, 18, 18)
                .addComponent(btnCancelar)
                .addContainerGap())
        );
        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel17, javax.swing.GroupLayout.PREFERRED_SIZE, 20, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(operarioId, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnGuardar)
                    .addComponent(btnModificar)
                    .addComponent(btnCancelar))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jPanel2Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {jLabel17, operarioId});

        alertas.setForeground(resourceMap.getColor("alertas.foreground")); // NOI18N
        alertas.setText(resourceMap.getString("alertas.text")); // NOI18N
        alertas.setVerticalAlignment(javax.swing.SwingConstants.TOP);
        alertas.setName("alertas"); // NOI18N
        alertas.setVerticalTextPosition(javax.swing.SwingConstants.TOP);

        javax.swing.GroupLayout panelAzulLayout = new javax.swing.GroupLayout(panelAzul);
        panelAzul.setLayout(panelAzulLayout);
        panelAzulLayout.setHorizontalGroup(
            panelAzulLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelAzulLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(0, 0, 0)
                .addGroup(panelAzulLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel2, javax.swing.GroupLayout.Alignment.TRAILING, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(panelAzulLayout.createSequentialGroup()
                        .addGap(12, 12, 12)
                        .addGroup(panelAzulLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(panelAzulLayout.createSequentialGroup()
                                .addComponent(alertas, javax.swing.GroupLayout.DEFAULT_SIZE, 798, Short.MAX_VALUE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(botonSalir, javax.swing.GroupLayout.PREFERRED_SIZE, 135, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(nuevoOperario, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))))
                .addContainerGap())
        );
        panelAzulLayout.setVerticalGroup(
            panelAzulLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelAzulLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelAzulLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addGroup(panelAzulLayout.createSequentialGroup()
                        .addComponent(jPanel2, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(nuevoOperario, javax.swing.GroupLayout.PREFERRED_SIZE, 362, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 21, Short.MAX_VALUE)
                        .addGroup(panelAzulLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(botonSalir)
                            .addComponent(alertas, javax.swing.GroupLayout.PREFERRED_SIZE, 34, javax.swing.GroupLayout.PREFERRED_SIZE))))
                .addContainerGap())
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(panelAzul, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(panelAzul, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void botonSalirActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_botonSalirActionPerformed
        dispose();
    }//GEN-LAST:event_botonSalirActionPerformed

    private void buscarEmpleadoFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_buscarEmpleadoFocusGained
        if (buscarEmpleado.getText().equals("Buscar empleados...")) {
            buscarEmpleado.setText("");
        } else {
        }
    }//GEN-LAST:event_buscarEmpleadoFocusGained

    private void nombreKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_nombreKeyTyped
        if (!nombre.getText().isEmpty()) {
            nombre.setText(nombre.getText().toUpperCase());
        }
    }//GEN-LAST:event_nombreKeyTyped

    private void nombreFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_nombreFocusLost
        if (!nombre.getText().isEmpty()) {
            nombre.setText(nombre.getText().toUpperCase());
        }

    }//GEN-LAST:event_nombreFocusLost

    private void botonModificarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_botonModificarActionPerformed
        if (obtenerDatosDeList()) {
            isEdit = true;
            desbloquearCampos(true);
            desbloquearBoton(1);
        }

    }//GEN-LAST:event_botonModificarActionPerformed

    private void buscarEmpleadoKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_buscarEmpleadoKeyReleased
        if (buscarEmpleado.getText().length() >= 3) {
            query = buscarEmpleado.getText();
            buscar().execute();
        }
        if (buscarEmpleado.getText().length() == 0) {
            recargarListaEmpledos();
        }
    }//GEN-LAST:event_buscarEmpleadoKeyReleased

    private void buscarEmpleadoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_buscarEmpleadoFocusLost
        if (buscarEmpleado.getText().isEmpty()) {
            buscarEmpleado.setText("Buscar empleados...");
        } 
    }//GEN-LAST:event_buscarEmpleadoFocusLost

    private void btnCancelarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCancelarActionPerformed
        limpiar();
        isEdit = false;
        if (obtenerDatosDeList()) {
            desbloquearCampos(false);
            desbloquearBoton(3);
        }
    }//GEN-LAST:event_btnCancelarActionPerformed

    private void botonEliminarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_botonEliminarActionPerformed
        isEdit = true;
        limpiar();
        desbloquearCampos(true);
        desbloquearBoton(0);
    }//GEN-LAST:event_botonEliminarActionPerformed

    private void listaEmpleadosValueChanged(javax.swing.event.ListSelectionEvent evt) {//GEN-FIRST:event_listaEmpleadosValueChanged
        isEdit = false;
        if (obtenerDatosDeList()) {
            desbloquearCampos(false);
            desbloquearBoton(3);
        }
    }//GEN-LAST:event_listaEmpleadosValueChanged

private void jButton2ActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_jButton2ActionPerformed
    vencimientos.setVisible(false);
}//GEN-LAST:event_jButton2ActionPerformed

private void dateIngresoPropertyChange(java.beans.PropertyChangeEvent evt) {//GEN-FIRST:event_dateIngresoPropertyChange
   txtAntiguedad.setText(Operario.CalcularAniosAntiguedad(dateIngreso.getDate())+ "");
   txtDiasVacaciones.setText(Operario.DiasVacaciones(dateIngreso.getDate())+ "");
}//GEN-LAST:event_dateIngresoPropertyChange

    private void btnCerrarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCerrarActionPerformed
        epp.setVisible(false);
    }//GEN-LAST:event_btnCerrarActionPerformed

    private void btnSalirFrancosActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnSalirFrancosActionPerformed

        isFrancosOpen = false;         francos.dispose();     }//GEN-LAST:event_btnSalirFrancosActionPerformed

    private void txtAjusteFrancosKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtAjusteFrancosKeyReleased
       setDatosDeFrancos();
       mostrarDatosDeFrancos();
       
    }//GEN-LAST:event_txtAjusteFrancosKeyReleased

    private void txtAjusteLicenciaKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtAjusteLicenciaKeyReleased
         setDatosDeFrancos();
       mostrarDatosDeFrancos();
    }//GEN-LAST:event_txtAjusteLicenciaKeyReleased

    private void txtPagadosKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtPagadosKeyReleased
        setDatosDeFrancos();
       mostrarDatosDeFrancos();
    }//GEN-LAST:event_txtPagadosKeyReleased

    private void txtSolicitados1KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtSolicitados1KeyReleased
         setDatosDeFrancos();
       mostrarDatosDeFrancos();
    }//GEN-LAST:event_txtSolicitados1KeyReleased

    private void txtSolicitados2KeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_txtSolicitados2KeyReleased
         setDatosDeFrancos();
       mostrarDatosDeFrancos();
    }//GEN-LAST:event_txtSolicitados2KeyReleased

    private void btnCerrarDetalleActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCerrarDetalleActionPerformed
        detalles.dispose();
    }//GEN-LAST:event_btnCerrarDetalleActionPerformed

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        java.awt.EventQueue.invokeLater(new Runnable() {

            @Override
            public void run() {
                
                JDEmpleadoGestion dialog = new JDEmpleadoGestion(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {

                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }
    
    
    /******************************************************************/
    public void desbloquearCampos(boolean b) {
                   
        nlegajo.setEnabled(b);
        cuil.setEnabled(b);
        nombre.setEnabled(b);
        observaciones.setEnabled(b);
        comboFuncion.setEnabled(b);
        desaCheck.setEnabled(b);
        vto_carnet.setEnabled(b);
        vto_psicofisico.setEnabled(b);
        vto_cargagral.setEnabled(b);
        vto_cargapeligrosa.setEnabled(b);
        vto_otros1.setEnabled(b);
        vto_otros2.setEnabled(b);
        vto_otros3.setEnabled(b);
        descripcion1.setEnabled(b);
        descripcion2.setEnabled(b);
        descripcion3.setEnabled(b);
        btnEPP.setEnabled(b);
        btnVacaciones.setEnabled(b);
        btnVencimientos.setEnabled(b);
        btnMasFuncion.setEnabled(b);
        dateIngreso.setEnabled(b);
        alertas.setText(null);
        
    }

    public void desbloquearBoton(int opcion) {
        /**
         * 0: Desbloquear boton Crear
         * 1: Desbloquear boton Modificar
         * */
        switch (opcion) {
            case 0:
                btnGuardar.setEnabled(true);
                btnCancelar.setEnabled(true);
                btnModificar.setEnabled(false);
                break;
            case 1:
                btnGuardar.setEnabled(false);
                btnCancelar.setEnabled(true);
                btnModificar.setEnabled(true);
                break;
            default:
                btnGuardar.setEnabled(false);
                btnCancelar.setEnabled(false);
                btnModificar.setEnabled(false);
        }
    }

    public boolean obtenerDatosDeList() {

        if (!empleadosList.isEmpty()) {
            if (listaEmpleados.isSelectionEmpty()) {
                opSelected = (Operario) empleadosList.get(0);
            } else {
                opSelected = (Operario) empleadosList.get(listaEmpleados.getSelectedIndex());
            }
            setDatosDeEmpleado(opSelected);
            return true;
        }
        return false;
    }

    public void setDatosDeEmpleado(Operario op) {
        operarioId.setText(op.getId()+"");
        nlegajo.setText(op.getN_legajo().trim());
        cuil.setText(op.getCuil());
        nombre.setText(op.getNombre());
        observaciones.setText(op.getObservaciones());
        comboFuncion.setSelectedItem(new Funcion(op.getFuncion()));
        desaCheck.setSelected(op.isDesarraigo());
        vto_carnet.setDate(op.getVto_carnet());
        vto_psicofisico.setDate(op.getVto_psicofisico());
        vto_cargagral.setDate(op.getVto_cargagral());
        vto_cargapeligrosa.setDate(op.getVto_cargapeligrosa());
        vto_otros1.setDate(op.getVto_otros1());
        vto_otros2.setDate(op.getVto_otros2());
        vto_otros3.setDate(op.getVto_otros3());
        descripcion1.setText(op.getDescripcion_vto1());
        descripcion2.setText(op.getDescripcion_vto2());
        descripcion3.setText(op.getDescripcion_vto3());
        //txtAntiguedad.setText(op.getAniosAntiguedad()+"");
        //txtDiasVacaciones.setText(op.getDiasVacaciones()+"");
        dateIngreso.setDate(op.getFecha_ingreso());
        alertas.setText(null);
        
    }


    private void setListDeEmpleado(ArrayList<Operario> list) {
        empleadosList.clear();
        for (Operario l : list) {
            empleadosList.addElement(l);
        }
        listaEmpleados.setModel(empleadosList);
    }
    
    
    public void limpiar() {
        opSelected = new Operario();
        nlegajo.setText("");
        cuil.setText("");
        nombre.setText("");
        observaciones.setText("");
        comboFuncion.setSelectedIndex(0);
        desaCheck.setSelected(false);
        vto_carnet.setDate(null);
        vto_psicofisico.setDate(null);
        vto_cargagral.setDate(null);
        vto_cargapeligrosa.setDate(null);
        vto_otros1.setDate(null);
        vto_otros2.setDate(null);
        vto_otros3.setDate(null);
        descripcion1.setText(null);
        descripcion2.setText(null);
        descripcion3.setText(null);
        txtAntiguedad.setText("0");
        dateIngreso.setDate(null);
        operarioId.setText("####");
        alertas.setText(null);
    }
    
    private void recargarListaEmpledos() {
        verTodos().execute();
    }
    
    /********************************************************************/

    

    @Action
    public Task buscar() {
        if (buscarEmpleado.getText().isEmpty()) {
            return null;
        }
        return new BuscarTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }

    
    private class BuscarTask extends org.jdesktop.application.Task<Object, Void> {

        BuscarTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to BuscarTask fields, here.
            super(app);
        }

        @Override
        protected Object doInBackground() {
            // Your Task's code here.  This method runs
            // on a background thread, so don't reference
            // the Swing GUI from here.
            OperarioDAO odao = new OperarioDAO();
            odao.conectar();
            empleados = odao.buscar(query);
            return null;  // return your result
        }

        @Override
        protected void succeeded(Object result) {
            
            if (empleados.isEmpty()) {
                empleadosList.removeAllElements();
                limpiar();
                alertas.setText("No hay datos coincidentes.");

            } else {
                empleadosList.removeAllElements();
                for (int i = 0; i < empleados.size(); i++) {
                    empleadosList.addElement((Operario) empleados.get(i));
                }
                listaEmpleados.setModel(empleadosList);
            }
        }
    }

    @Action
    public Task verTodos() {
        return new VerTodosTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }
    private class VerTodosTask extends org.jdesktop.application.Task<Object, Void> {

        VerTodosTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to VerTodosTask fields, here.
            super(app);
        }

        @Override
        protected Object doInBackground() {
            OperarioDAO odao = new OperarioDAO();
            odao.conectar();
            empleados = odao.cargarTodos();
            return null;  // return your result
        }

        @Override
        protected void succeeded(Object result) {
            if (empleados.isEmpty()) {
                alertas.setText("No hay datos coincidentes.");

            } else {
                empleadosList.removeAllElements();
                for (int i = 0; i < empleados.size(); i++) {
                    empleadosList.addElement((Operario) empleados.get(i));
                }
                listaEmpleados.setModel(empleadosList);
                alertas.setText("");
            }
        }
    }

    @Action
    public Task eliminarEmpleado() {
        if(!Permisos.verificarCredenciales("Administrador")) return null;
        if(opSelected.getId()==0){
            return null;
        }
        if(OpcionPanel.NO_OPTION == OpcionPanel.showConfirmDialog(rootPane, "Se eliminará la información de: \n"
                + opSelected.getNombre(), "\n¿Está seguro/a que desea continuar?", OpcionPanel.YES_NO_OPTION)) {
            return null;
        }
        return new EliminarEmpleadoTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }
    private class EliminarEmpleadoTask extends org.jdesktop.application.Task<Object, Void> {


        EliminarEmpleadoTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to EliminarEmpleadoTask fields, here.
            super(app);
        }

        @Override
        protected Object doInBackground() {
            OperarioDAO odao = new OperarioDAO();
            odao.conectar();
            return odao.borrar(opSelected);  // return your result
        }

        @Override
        protected void succeeded(Object result) {
            Boolean r = (Boolean) result;
            if (r) {
                empleadosList.removeElement(opSelected);
                limpiar();
                Success("Eliminación realizada");
            } else {
                Error("Ocurrió un error. \nIntente nuevamente.");
            }
        }
    } 

    @Action
    public Task agregarOperarios() {
        if (nombre.getText().isEmpty()) {
            Error("El campo NOMBRE es obligatorio.");
            return null;
        }
        opSelected = new Operario();
        opSelected.setNombre(nombre.getText());
        opSelected.setN_legajo(nlegajo.getText());
        opSelected.setFuncion(((Funcion)funcionCombo.getSelectedItem()).getId());
        opSelected.setObservaciones(observaciones.getText());
        opSelected.setDesarraigo(desaCheck.isSelected());
        opSelected.setCuil(cuil.getText());
        opSelected.setVto_carnet(vto_carnet.getDate());
        opSelected.setVto_psicofisico(vto_psicofisico.getDate());
        opSelected.setVto_cargagral(vto_cargagral.getDate());
        opSelected.setVto_cargapeligrosa(vto_cargapeligrosa.getDate());
        opSelected.setVto_otros1(vto_otros1.getDate());
        opSelected.setVto_otros2(vto_otros2.getDate());
        opSelected.setVto_otros3(vto_otros3.getDate());
        opSelected.setDescripcion_vto1(descripcion1.getText());
        opSelected.setDescripcion_vto2(descripcion2.getText());
        opSelected.setDescripcion_vto3(descripcion3.getText());
        opSelected.setFecha_ingreso(dateIngreso.getDate());
        return new AgregarOperariosTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }
    private class AgregarOperariosTask extends org.jdesktop.application.Task<Object, Void> {
        int r = -1;
        AgregarOperariosTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to AgregarOperariosTask fields, here.
            super(app);
        }

        @Override
        protected Object doInBackground() {
            OperarioDAO odao = new OperarioDAO();
            odao.conectar();
            r = odao.guardar(opSelected);
            return null;  // return your result
        }

        @Override
        protected void succeeded(Object result) {
            if (r > 0) {
                opSelected.setId(r);
                empleadosList.addElement(opSelected);
                Success("Operación realizada con éxito.");
                limpiar();
                listaEmpleados.setSelectedValue(opSelected, true);
            } else {
                Error("Ocurrió un error. \nIntente nuevamente.");
            }
        }
    }

    @Action
    public Task modificarOperario() {
        if (nombre.getText().isEmpty()) {
            Error("El campo NOMBRE es obligatorio.");
            return null;
        }
        opSelected.setNombre(nombre.getText());
        opSelected.setN_legajo(nlegajo.getText());
        opSelected.setFuncion(((Funcion)funcionCombo.getSelectedItem()).getId());
        opSelected.setObservaciones(observaciones.getText());
        opSelected.setDesarraigo(desaCheck.isSelected());
        opSelected.setCuil(cuil.getText());
        opSelected.setVto_carnet(vto_carnet.getDate());
        opSelected.setVto_psicofisico(vto_psicofisico.getDate());
        opSelected.setVto_cargagral(vto_cargagral.getDate());
        opSelected.setVto_cargapeligrosa(vto_cargapeligrosa.getDate());
        opSelected.setVto_otros1(vto_otros1.getDate());
        opSelected.setVto_otros2(vto_otros2.getDate());
        opSelected.setVto_otros3(vto_otros3.getDate());
        opSelected.setDescripcion_vto1(descripcion1.getText());
        opSelected.setDescripcion_vto2(descripcion2.getText());
        opSelected.setDescripcion_vto3(descripcion3.getText());
        opSelected.setFecha_ingreso(dateIngreso.getDate());
        return new ModificarOperarioTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }
    
    private class ModificarOperarioTask extends org.jdesktop.application.Task<Object, Void> {
        int r = -1;

        ModificarOperarioTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to ModificarOperarioTask fields, here.
            super(app);
            
        }

        @Override
        protected Object doInBackground() {
            OperarioDAO odao = new OperarioDAO();
            odao.conectar();
            r = odao.modificar(opSelected);
            return null;  // return your result
        }

        @Override
        protected void succeeded(Object result) {
            isEdit = false;
            if (r == 0) {
                Success("Éxito", "Datos guardados.");
                //alertas.setText("Datos guardados.");
                
                if (obtenerDatosDeList()) {
                    desbloquearCampos(false);
                    desbloquearBoton(3);
                }
            } else {
                Error("Error", "Ocurrió un error al procesar la solicitud.");
                
                recargarListaEmpledos();
                limpiar();
            }
        }
    }
    
    @Action
    public Task agregarFuncion() {
        newFc = OpcionPanel.showInputDialog(this, "Función: ");
        if (newFc == null || newFc.isEmpty()) {
            return null;
        }
        return new AgregarFuncionTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }
    
    private class AgregarFuncionTask extends org.jdesktop.application.Task<Object, Void> {

        Funcion fun = new Funcion(newFc);
        int r = -1;

        AgregarFuncionTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to AgregarFuncionTask fields, here.
            super(app);
        }

        @Override
        protected Object doInBackground() {
            // Your Task's code here.  This method runs
            // on a background thread, so don't reference
            // the Swing GUI from here.
            FuncionDAO fdao = new FuncionDAO();
            fdao.conectar();
            r = fdao.guardar(fun);
            return null;  // return your result
        }

        @Override
        protected void succeeded(Object result) {
            if (r >= 0) {
                fun.setId(r);
                funcionCombo.addElement(fun);
            } else {
                Error("Error", "Compruebe que ya no exista una \nfunción con ese nombre.");
                
            }
        }
    }

    @Action
    public void showVencimientos() {
        vencimientos.setLocationRelativeTo(null);
        vencimientos.setVisible(true);
    }
    
    
    @Action
    public void showFrancos() {
        CalcularDiasFrancos().execute();
        francos.setLocationRelativeTo(null);
        francos.setVisible(true);       
    }
    
    
    /* Dialogo EPP */
    
    @Action
    public void showEPP() {
        mostrarEpps().execute();
       
    }
    
    @Action
    public final Task mostrarEpps() {
        return new MostrarEppTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }

    
    private class MostrarEppTask extends org.jdesktop.application.Task<Object, Void> {
        ArrayList<EntidadAbstracta> epps;
        ArrayList<EPPOperario> eppValores = new ArrayList<EPPOperario>();
        MostrarEppTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to BuscarTask fields, here.
            super(app);
        }

        @Override
        protected Object doInBackground() {
            // Your Task's code here.  This method runs
            // on a background thread, so don't reference
            // the Swing GUI from here.
            EPPDAO odao = new EPPDAO();
            EPPOperarioDAO operDAO = new EPPOperarioDAO();
            odao.conectar();
            epps = odao.cargarTodos();
            eppValores =  operDAO.getTodos(opSelected);
            return null;  // return your result
        }

        @Override
        protected void succeeded(Object result) {
            if (epps.isEmpty()) {
                

            } else {
                EPPItemTableModel model = new EPPItemTableModel();
                for(EntidadAbstracta epp :epps){
                    EPPItem item = new EPPItem();
                    item.setOperario(opSelected);
                    item.setEpp((EPP)epp);
                    EPPOperario aux = new EPPOperario(opSelected,(EPP) epp);
                    if(eppValores.contains(aux)){
                        aux = eppValores.get(eppValores.indexOf(aux));
                    }    
                    item.setValores(aux);
                    model.addFila(item);
                }
                tablaEpps.setModel(model);
                List<String[]> valores = new ArrayList<String[]>();
                String[] array = new String[ParametrosSistema.getGrupo("TALLE").size()];
                int i = 0;
                for(EntidadAbstracta a:ParametrosSistema.getGrupo("TALLE")){
                    array[i] = ((Parametro)a).getValor();
                    i++;
                }
                valores.add(array);
                tablaEpps.setRowHeight(tablaEpps.getRowHeight() + 10);
                
                tablaEpps.getColumnModel().getColumn(2).setCellEditor(new ComboEditorCelda(valores));
                tablaEpps.getColumnModel().getColumn(3).setCellEditor(new SpinnerEditor());
//                tablaEpps.getColumnModel().getColumn(0).setCellRenderer(new StatusColumnCellEppRenderer());
//                tablaEpps.getColumnModel().getColumn(1).setCellRenderer(new StatusColumnCellEppRenderer());
//                tablaEpps.getColumnModel().getColumn(2).setCellRenderer(new StatusColumnCellEppRenderer());
    
            }
            epp.setVisible(true);
           
        }
    }
    @Action
    public Task guardarEPP() {
        
        return new GuardarEPPTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }
    private class GuardarEPPTask extends org.jdesktop.application.Task<Object, Void> {
        EPPItemTableModel model;
        

        GuardarEPPTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to AgregarFuncionTask fields, here.
            super(app);
            model = (EPPItemTableModel) tablaEpps.getModel();
        }

        @Override
        protected Object doInBackground() {
            // Your Task's code here.  This method runs
            // on a background thread, so don't reference
            // the Swing GUI from here.
            for(int i = 0; i < model.getRowCount(); i++){
                AbstractHibernateDAO.almacenaEntidad(((EPPItem)model.getFila(i)).getValores());
            }
            return null;  // return your result
        }

        @Override
        protected void succeeded(Object result) {
            Success("Éxito", "Datos de EPP guardados");
           
        }
    
    }

    @Action
    public Task CalcularDiasFrancos() {
        
        return new CalcularDiasFrancosTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }

    private class CalcularDiasFrancosTask extends org.jdesktop.application.Task<Object, Void> {
        int cantidad = 0;
        int total = 0;
        ItemFrancoLicencia ifl = new ItemFrancoLicencia();
        
        CalcularDiasFrancosTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to CalcularDiasFrancosTask fields, here.
            super(app);
            if(isFrancosOpen) setDatosDeFrancos();
        }
        @Override protected Object doInBackground() {
            // Your Task's code here.  This method runs
            // on a background thread, so don't reference
            // the Swing GUI from here.
            FrancosLicenciasDAO flDAO = new FrancosLicenciasDAO();
            flDAO.conectar();
//            ParteDiarioDAO dao = new ParteDiarioDAO();
//            dao.conectar();
            ifl = flDAO.getByIdOperario(opSelected.getId());
//            cantidad = dao.CalcularFrancos(opSelected.getId()) 
//                    - dao.CalcularDiasDevueltos(opSelected.getId());
//            if(!isFrancosOpen){
//                OperarioDAO opdao = new OperarioDAO();
//                opdao.conectar();
//                datosFranco = opdao.findDatosFrancoById(opSelected.getId());
//            }
            return null;  // return your result
        }
        @Override protected void succeeded(Object result) {
            // Runs on the EDT.  Update the GUI based on
            // the result computed by doInBackground().
            isFrancosOpen = true;
            itemFl = ifl;
            
//            total = cantidad- datosFranco.getAjusteFrancos() - datosFranco.getPagados();
//            cantidad = total - datosFranco.getSolicitados1() - datosFranco.getSolicitados2();
//            lblDiasAdeudadosTotal.setText(total +"");
//            lblDiasAFavor.setText("" + cantidad);
//            lblLicenciaPorAnio.setText(""+Operario.DiasVacaciones(opSelected.getFecha_ingreso()));
            mostrarDatosDeFrancos();
        }
    }
    int _i(String t){
        try {
            int a = Integer.parseInt(t);
            return a;
        }catch (Exception ex) { }
        return 0;
    }
    void setDatosDeFrancos(){
        
        itemFl.francosEntidad.setAjusteFrancos(_i(txtAjusteFrancos.getText()));
        itemFl.francosEntidad.setAjusteLicencias(_i(txtAjusteLicencia.getText()));
        itemFl.francosEntidad.setPagados(_i(txtPagados.getText()));
        
        itemFl.francosEntidad.setSolicitados1(_i(txtSolicitados1.getText()));
        itemFl.francosEntidad.setSolicitados2(_i(txtSolicitados2.getText()));
        itemFl.francosEntidad.setEntra1(dateEntra1.getDate());
        itemFl.francosEntidad.setEntra2(dateEntra2.getDate());
        itemFl.francosEntidad.setSale1(dateSale1.getDate());
        itemFl.francosEntidad.setSale2(dateSale2.getDate());
    }
    
    void mostrarDatosDeFrancos(){
        txtAjusteFrancos.setText(""+itemFl.francosEntidad.getAjusteFrancos());
        txtAjusteLicencia.setText(""+itemFl.francosEntidad.getAjusteLicencias());
        txtPagados.setText(""+itemFl.francosEntidad.getPagados());
        
        txtSolicitados1.setText("" + itemFl.francosEntidad.getSolicitados1());
        txtSolicitados2.setText("" + itemFl.francosEntidad.getSolicitados2());
        dateEntra1.setDate(itemFl.francosEntidad.getEntra1());
        dateEntra2.setDate(itemFl.francosEntidad.getEntra2());
        dateSale1.setDate(itemFl.francosEntidad.getSale1());
        dateSale2.setDate(itemFl.francosEntidad.getSale2());
        lblLicenciaPorAnio.setText(itemFl.getDiasLicenciaAnual()+"");
        lblLicenciasPendientesAnteriores.setText(itemFl.getLicenciasPendientes()+ "");
        lblFrancosAcumulados.setText(itemFl.getTotal()+"");
        lblLicenciasAcumuladas.setText(itemFl.getLicenciaDisponibles()+"");
        lblDiasAFavor.setText(itemFl.getPendientesActual()+"");
    }

    @Action
    public Task GuardarDatosFrancos() {
        return new GuardarDatosFrancosTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }

    private class GuardarDatosFrancosTask extends org.jdesktop.application.Task<Object, Void> {
        int r = -1;
        GuardarDatosFrancosTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to GuardarDatosFrancosTask fields, here.
            super(app);
            setDatosDeFrancos();
            itemFl.francosEntidad.setOperarioId(opSelected.getId());
            
        }
        @Override protected Object doInBackground() {
            // Your Task's code here.  This method runs
            // on a background thread, so don't reference
            // the Swing GUI from here.
            OperarioDAO opDao = new OperarioDAO();
            opDao.conectar();
            r = opDao.guardarDatosFranco(itemFl.francosEntidad);
            return null;  // return your result
        }
        @Override protected void succeeded(Object result) {
            // Runs on the EDT.  Update the GUI based on
            // the result computed by doInBackground().
            if(r== -1){
                Error("Error al guardar los datos. Intente nuevamente");
            }else{
                Success("Datos almacenados correctamente.");
                francos.dispose();
                itemFl = new ItemFrancoLicencia();
                //CalcularDiasFrancos().execute();
            }
        }
    }

    @Action
    public Task MostrarDetallesFrancosLicencias() {
        return new MostrarDetallesFrancosLicenciasTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }

    private class MostrarDetallesFrancosLicenciasTask extends org.jdesktop.application.Task<Object, Void> {
        boolean isFranco=false, isLicencia= false;
        MostrarDetallesFrancosLicenciasTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to MostrarDetallesFrancosLicenciasTask fields, here.
            super(app);
             if (cmbTipo.getSelectedItem().toString().contains("y")){
                isFranco = isLicencia = true;
            } else if (cmbTipo.getSelectedItem().toString().equals("Sólo francos")) {
                isFranco = true;
            } else if (cmbTipo.getSelectedItem().toString().equals("Sólo licencias")) {
                isLicencia = true;
            }
        }
        @Override protected Object doInBackground() {
            // Your Task's code here.  This method runs
            // on a background thread, so don't reference
            // the Swing GUI from here.
            FrancosLicenciasDAO dao = new FrancosLicenciasDAO();
            dao.conectar();
            ArrayList<EntidadAbstracta> datos = dao.ReporteDetalles(opSelected.getId(), 
                    isFranco, isLicencia, chooseFecha.getDate());
            detalleTableModel.clean();
            for(EntidadAbstracta ea : datos) {
                detalleTableModel.addFila(ea);
            }
            return null;  // return your result
        }
        @Override protected void succeeded(Object result) {
            // Runs on the EDT.  Update the GUI based on
            // the result computed by doInBackground().
            jTable1.setModel(detalleTableModel);
            lblCantidad.setText("Cantidad: " + detalleTableModel.getData().size());
            detalles.setSize(jPanel9.getSize());
            detalles.setLocationRelativeTo(null);
            detalles.setVisible(true);
        }
    }

    @Action
    public Task recargarDetalles() {
        return new MostrarDetallesFrancosLicenciasTask(
                org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }



    
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JLabel alertas;
    private javax.swing.JButton botonEliminar;
    private javax.swing.JButton botonEliminar1;
    private javax.swing.JButton botonModificar;
    private javax.swing.JButton botonSalir;
    private javax.swing.JButton btnCancelar;
    private javax.swing.JButton btnCerrar;
    private javax.swing.JButton btnCerrarDetalle;
    private javax.swing.JButton btnDetalles;
    private javax.swing.JButton btnEPP;
    private javax.swing.JButton btnFiltrarDetalles;
    private javax.swing.JButton btnGuardar;
    private javax.swing.JButton btnGuardarEPP;
    private javax.swing.JButton btnGuardarFrancos;
    private javax.swing.JButton btnMasFuncion;
    private javax.swing.JButton btnModificar;
    private javax.swing.JButton btnSalirFrancos;
    private javax.swing.JButton btnVacaciones;
    private javax.swing.JButton btnVencimientos;
    private javax.swing.JTextField buscarEmpleado;
    private com.toedter.calendar.JDateChooser chooseFecha;
    private javax.swing.JComboBox cmbTipo;
    private javax.swing.JComboBox comboFuncion;
    private javax.swing.JTextField cuil;
    private com.toedter.calendar.JDateChooser dateEntra1;
    private com.toedter.calendar.JDateChooser dateEntra2;
    private com.toedter.calendar.JDateChooser dateIngreso;
    private com.toedter.calendar.JDateChooser dateSale1;
    private com.toedter.calendar.JDateChooser dateSale2;
    private javax.swing.JCheckBox desaCheck;
    private javax.swing.JTextField descripcion1;
    private javax.swing.JTextField descripcion2;
    private javax.swing.JTextField descripcion3;
    private javax.swing.JDialog detalles;
    private javax.swing.JDialog epp;
    private javax.swing.JDialog francos;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel11;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel15;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel22;
    private javax.swing.JLabel jLabel23;
    private javax.swing.JLabel jLabel24;
    private javax.swing.JLabel jLabel25;
    private javax.swing.JLabel jLabel26;
    private javax.swing.JLabel jLabel27;
    private javax.swing.JLabel jLabel28;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JPanel jPanel5;
    private javax.swing.JPanel jPanel6;
    private javax.swing.JPanel jPanel7;
    private javax.swing.JPanel jPanel8;
    private javax.swing.JPanel jPanel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JScrollPane jScrollPane2;
    private javax.swing.JScrollPane jScrollPane3;
    private javax.swing.JScrollPane jScrollPane4;
    private javax.swing.JTable jTable1;
    private javax.swing.JLabel lblCantidad;
    private javax.swing.JLabel lblDiasAFavor;
    private javax.swing.JLabel lblFrancosAcumulados;
    private javax.swing.JLabel lblLicenciaPorAnio;
    private javax.swing.JLabel lblLicenciasAcumuladas;
    private javax.swing.JLabel lblLicenciasPendientesAnteriores;
    private javax.swing.JLabel lblanti;
    private javax.swing.JLabel lblanti1;
    private javax.swing.JList listaEmpleados;
    private javax.swing.JTextField nlegajo;
    private javax.swing.JTextField nombre;
    private javax.swing.JPanel nuevoOperario;
    private javax.swing.JTextArea observaciones;
    private javax.swing.JLabel operarioId;
    private javax.swing.JPanel panelAzul;
    private javax.swing.JTable tablaEpps;
    private javax.swing.JFormattedTextField txtAjusteFrancos;
    private javax.swing.JFormattedTextField txtAjusteLicencia;
    private javax.swing.JLabel txtAntiguedad;
    private javax.swing.JLabel txtDiasVacaciones;
    private javax.swing.JFormattedTextField txtPagados;
    private javax.swing.JFormattedTextField txtSolicitados1;
    private javax.swing.JFormattedTextField txtSolicitados2;
    private javax.swing.JDialog vencimientos;
    private com.toedter.calendar.JDateChooser vto_cargagral;
    private com.toedter.calendar.JDateChooser vto_cargapeligrosa;
    private com.toedter.calendar.JDateChooser vto_carnet;
    private com.toedter.calendar.JDateChooser vto_otros1;
    private com.toedter.calendar.JDateChooser vto_otros2;
    private com.toedter.calendar.JDateChooser vto_otros3;
    private com.toedter.calendar.JDateChooser vto_psicofisico;
    // End of variables declaration//GEN-END:variables
    
    static DefaultListModel empleadosList = new DefaultListModel();
    ArrayList<Operario> empleados = new ArrayList<Operario>();
    static DefaultComboBoxModel funcionCombo = new DefaultComboBoxModel();
    private Operario opSelected = new Operario();
    private ItemFrancoLicencia itemFl = new ItemFrancoLicencia();
    String newFc="";
    String query ="";
    boolean isEdit= false;
    boolean isFrancosOpen = false;
    DetalleFrancosLicenciasTableModel detalleTableModel = new DetalleFrancosLicenciasTableModel();
}
