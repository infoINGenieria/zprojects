/*
 * To change this template, choose Tools | Templates
 * and open the template in the editor.
 */

/*
 * JDEstacionServicio.java
 *
 * Created on 06/03/2012, 23:38:38
 */
package zilleprojects.form;

import DAO.CombustibleDAO;
import DAO.EstacionServicioDAO;
import Modelo.Combustible;
import Modelo.EstacionServicio;
import Vista.OpcionPanel;
import Vista.PanelAzul;
import java.util.ArrayList;
import javax.swing.DefaultComboBoxModel;
import org.jdesktop.application.Action;
import org.jdesktop.application.Task;

/**
 *
 * @author matuu
 */
public class JDEstacionServicio extends javax.swing.JDialog {

    /** Creates new form JDEstacionServicio */
    public JDEstacionServicio(java.awt.Frame parent, boolean modal) {
        super(parent, modal);
        initComponents();
    }

    /** This method is called from within the constructor to
     * initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is
     * always regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        eliminarEstacion = new javax.swing.JDialog();
        jPanel2 = new PanelAzul();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jcomboReasignacion = new javax.swing.JComboBox();
        jLabel5 = new javax.swing.JLabel();
        cancelarEliminar = new javax.swing.JButton();
        asignarEliminarBoton = new javax.swing.JButton();
        ingresoVolumenCombustible = new javax.swing.JDialog();
        jPanel3 = new PanelAzul();
        comboEstacionIngreso = new javax.swing.JComboBox();
        jLabel6 = new javax.swing.JLabel();
        jLabel7 = new javax.swing.JLabel();
        fechaIngreso = new com.toedter.calendar.JDateChooser();
        jLabel8 = new javax.swing.JLabel();
        cantidadIngreso = new javax.swing.JTextField();
        jLabel9 = new javax.swing.JLabel();
        responsableIngreso = new javax.swing.JTextField();
        btnCancelarIngreso = new javax.swing.JButton();
        btnIngresarVolumen = new javax.swing.JButton();
        jPanel4 = new PanelAzul();
        jPanel1 = new javax.swing.JPanel();
        estacionesCombo = new javax.swing.JComboBox();
        jLabel1 = new javax.swing.JLabel();
        jLabel2 = new javax.swing.JLabel();
        nombreEstacion = new javax.swing.JTextField();
        guardarBoton = new javax.swing.JButton();
        eliminarBoton = new javax.swing.JButton();
        jButton1 = new javax.swing.JButton();
        jButton2 = new javax.swing.JButton();
        cerrarBoton = new javax.swing.JButton();
        estacionSeleccionada = new javax.swing.JLabel();
        jLabel10 = new javax.swing.JLabel();

        eliminarEstacion.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        org.jdesktop.application.ResourceMap resourceMap = org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class).getContext().getResourceMap(JDEstacionServicio.class);
        eliminarEstacion.setTitle(resourceMap.getString("eliminarEstacion.title")); // NOI18N
        eliminarEstacion.setLocationByPlatform(true);
        eliminarEstacion.setMinimumSize(new java.awt.Dimension(504, 181));
        eliminarEstacion.setModal(true);
        eliminarEstacion.setName("eliminarEstacion"); // NOI18N

        jPanel2.setName("jPanel2"); // NOI18N

        jLabel3.setText(resourceMap.getString("jLabel3.text")); // NOI18N
        jLabel3.setName("jLabel3"); // NOI18N

        jLabel4.setText(resourceMap.getString("jLabel4.text")); // NOI18N
        jLabel4.setName("jLabel4"); // NOI18N

        jcomboReasignacion.setModel(estacionReasignar);
        jcomboReasignacion.setName("jcomboReasignacion"); // NOI18N

        jLabel5.setText(resourceMap.getString("jLabel5.text")); // NOI18N
        jLabel5.setName("jLabel5"); // NOI18N

        cancelarEliminar.setIcon(resourceMap.getIcon("cancelarEliminar.icon")); // NOI18N
        cancelarEliminar.setText(resourceMap.getString("cancelarEliminar.text")); // NOI18N
        cancelarEliminar.setName("cancelarEliminar"); // NOI18N
        cancelarEliminar.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cancelarEliminarActionPerformed(evt);
            }
        });

        javax.swing.ActionMap actionMap = org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class).getContext().getActionMap(JDEstacionServicio.class, this);
        asignarEliminarBoton.setAction(actionMap.get("reasignarEliminarEstacion")); // NOI18N
        asignarEliminarBoton.setIcon(resourceMap.getIcon("asignarEliminarBoton.icon")); // NOI18N
        asignarEliminarBoton.setText(resourceMap.getString("asignarEliminarBoton.text")); // NOI18N
        asignarEliminarBoton.setName("asignarEliminarBoton"); // NOI18N

        javax.swing.GroupLayout jPanel2Layout = new javax.swing.GroupLayout(jPanel2);
        jPanel2.setLayout(jPanel2Layout);
        jPanel2Layout.setHorizontalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(jcomboReasignacion, javax.swing.GroupLayout.PREFERRED_SIZE, 468, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4, javax.swing.GroupLayout.PREFERRED_SIZE, 468, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel5)
                    .addComponent(jLabel3, javax.swing.GroupLayout.PREFERRED_SIZE, 468, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel2Layout.createSequentialGroup()
                .addContainerGap(130, Short.MAX_VALUE)
                .addComponent(asignarEliminarBoton, javax.swing.GroupLayout.PREFERRED_SIZE, 226, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addComponent(cancelarEliminar, javax.swing.GroupLayout.PREFERRED_SIZE, 124, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        jPanel2Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {jLabel3, jLabel4, jLabel5, jcomboReasignacion});

        jPanel2Layout.setVerticalGroup(
            jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel2Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel3)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel5)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel4)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jcomboReasignacion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                .addGroup(jPanel2Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(cancelarEliminar)
                    .addComponent(asignarEliminarBoton))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        javax.swing.GroupLayout eliminarEstacionLayout = new javax.swing.GroupLayout(eliminarEstacion.getContentPane());
        eliminarEstacion.getContentPane().setLayout(eliminarEstacionLayout);
        eliminarEstacionLayout.setHorizontalGroup(
            eliminarEstacionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );
        eliminarEstacionLayout.setVerticalGroup(
            eliminarEstacionLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
        );

        ingresoVolumenCombustible.setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        ingresoVolumenCombustible.setTitle(resourceMap.getString("ingresoVolumenCombustible.title")); // NOI18N
        ingresoVolumenCombustible.setLocationByPlatform(true);
        ingresoVolumenCombustible.setMinimumSize(new java.awt.Dimension(380, 250));
        ingresoVolumenCombustible.setModal(true);
        ingresoVolumenCombustible.setName("ingresoVolumenCombustible"); // NOI18N

        jPanel3.setMinimumSize(new java.awt.Dimension(380, 250));
        jPanel3.setName("jPanel3"); // NOI18N
        jPanel3.setPreferredSize(new java.awt.Dimension(380, 250));

        comboEstacionIngreso.setModel(estaciones);
        comboEstacionIngreso.setName("comboEstacionIngreso"); // NOI18N

        jLabel6.setText(resourceMap.getString("jLabel6.text")); // NOI18N
        jLabel6.setName("jLabel6"); // NOI18N

        jLabel7.setText(resourceMap.getString("jLabel7.text")); // NOI18N
        jLabel7.setName("jLabel7"); // NOI18N

        fechaIngreso.setName("fechaIngreso"); // NOI18N

        jLabel8.setText(resourceMap.getString("jLabel8.text")); // NOI18N
        jLabel8.setName("jLabel8"); // NOI18N

        cantidadIngreso.setText(resourceMap.getString("cantidadIngreso.text")); // NOI18N
        cantidadIngreso.setName("cantidadIngreso"); // NOI18N

        jLabel9.setText(resourceMap.getString("jLabel9.text")); // NOI18N
        jLabel9.setName("jLabel9"); // NOI18N

        responsableIngreso.setText(resourceMap.getString("responsableIngreso.text")); // NOI18N
        responsableIngreso.setName("responsableIngreso"); // NOI18N

        btnCancelarIngreso.setIcon(resourceMap.getIcon("btnCancelarIngreso.icon")); // NOI18N
        btnCancelarIngreso.setText(resourceMap.getString("btnCancelarIngreso.text")); // NOI18N
        btnCancelarIngreso.setName("btnCancelarIngreso"); // NOI18N
        btnCancelarIngreso.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                btnCancelarIngresoActionPerformed(evt);
            }
        });

        btnIngresarVolumen.setAction(actionMap.get("ingresarCombustibleAction")); // NOI18N
        btnIngresarVolumen.setIcon(resourceMap.getIcon("btnIngresarVolumen.icon")); // NOI18N
        btnIngresarVolumen.setText(resourceMap.getString("btnIngresarVolumen.text")); // NOI18N
        btnIngresarVolumen.setName("btnIngresarVolumen"); // NOI18N

        javax.swing.GroupLayout jPanel3Layout = new javax.swing.GroupLayout(jPanel3);
        jPanel3.setLayout(jPanel3Layout);
        jPanel3Layout.setHorizontalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(jPanel3Layout.createSequentialGroup()
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(jLabel7)
                            .addComponent(jLabel8)
                            .addComponent(jLabel9)
                            .addComponent(jLabel6, javax.swing.GroupLayout.PREFERRED_SIZE, 107, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(fechaIngreso, javax.swing.GroupLayout.DEFAULT_SIZE, 185, Short.MAX_VALUE)
                            .addComponent(comboEstacionIngreso, 0, 185, Short.MAX_VALUE)
                            .addComponent(cantidadIngreso, javax.swing.GroupLayout.DEFAULT_SIZE, 185, Short.MAX_VALUE)
                            .addComponent(responsableIngreso, javax.swing.GroupLayout.DEFAULT_SIZE, 185, Short.MAX_VALUE)))
                    .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel3Layout.createSequentialGroup()
                        .addComponent(btnIngresarVolumen)
                        .addGap(18, 18, 18)
                        .addComponent(btnCancelarIngreso)))
                .addContainerGap())
        );

        jPanel3Layout.linkSize(javax.swing.SwingConstants.HORIZONTAL, new java.awt.Component[] {btnCancelarIngreso, btnIngresarVolumen});

        jPanel3Layout.setVerticalGroup(
            jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel3Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel6)
                    .addComponent(comboEstacionIngreso, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel7)
                    .addComponent(fechaIngreso, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel8)
                    .addComponent(cantidadIngreso, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, 18)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel9)
                    .addComponent(responsableIngreso, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 27, Short.MAX_VALUE)
                .addGroup(jPanel3Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnCancelarIngreso)
                    .addComponent(btnIngresarVolumen))
                .addContainerGap())
        );

        jPanel3Layout.linkSize(javax.swing.SwingConstants.VERTICAL, new java.awt.Component[] {btnCancelarIngreso, btnIngresarVolumen});

        javax.swing.GroupLayout ingresoVolumenCombustibleLayout = new javax.swing.GroupLayout(ingresoVolumenCombustible.getContentPane());
        ingresoVolumenCombustible.getContentPane().setLayout(ingresoVolumenCombustibleLayout);
        ingresoVolumenCombustibleLayout.setHorizontalGroup(
            ingresoVolumenCombustibleLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, 335, Short.MAX_VALUE)
        );
        ingresoVolumenCombustibleLayout.setVerticalGroup(
            ingresoVolumenCombustibleLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel3, javax.swing.GroupLayout.PREFERRED_SIZE, 249, Short.MAX_VALUE)
        );

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle(resourceMap.getString("Form.title")); // NOI18N
        setLocationByPlatform(true);
        setMinimumSize(new java.awt.Dimension(240, 236));
        setModal(true);
        setName("Form"); // NOI18N
        setResizable(false);
        addWindowFocusListener(new java.awt.event.WindowFocusListener() {
            public void windowGainedFocus(java.awt.event.WindowEvent evt) {
                formWindowGainedFocus(evt);
            }
            public void windowLostFocus(java.awt.event.WindowEvent evt) {
            }
        });
        addWindowListener(new java.awt.event.WindowAdapter() {
            public void windowActivated(java.awt.event.WindowEvent evt) {
                formWindowActivated(evt);
            }
        });

        jPanel4.setName("jPanel4"); // NOI18N

        jPanel1.setBorder(javax.swing.BorderFactory.createTitledBorder(""));
        jPanel1.setName("jPanel1"); // NOI18N
        jPanel1.setOpaque(false);

        estacionesCombo.setModel(estaciones);
        estacionesCombo.setName("estacionesCombo"); // NOI18N
        estacionesCombo.addItemListener(new java.awt.event.ItemListener() {
            public void itemStateChanged(java.awt.event.ItemEvent evt) {
                estacionesComboItemStateChanged(evt);
            }
        });

        jLabel1.setFont(resourceMap.getFont("jLabel1.font")); // NOI18N
        jLabel1.setText(resourceMap.getString("jLabel1.text")); // NOI18N
        jLabel1.setName("jLabel1"); // NOI18N

        jLabel2.setFont(resourceMap.getFont("jLabel2.font")); // NOI18N
        jLabel2.setText(resourceMap.getString("jLabel2.text")); // NOI18N
        jLabel2.setName("jLabel2"); // NOI18N

        nombreEstacion.setText(resourceMap.getString("nombreEstacion.text")); // NOI18N
        nombreEstacion.setName("nombreEstacion"); // NOI18N

        guardarBoton.setAction(actionMap.get("guardarEstacion")); // NOI18N
        guardarBoton.setIcon(resourceMap.getIcon("guardarBoton.icon")); // NOI18N
        guardarBoton.setText(resourceMap.getString("guardarBoton.text")); // NOI18N
        guardarBoton.setName("guardarBoton"); // NOI18N

        eliminarBoton.setAction(actionMap.get("mostrarEliminarEstacion")); // NOI18N
        eliminarBoton.setIcon(resourceMap.getIcon("eliminarBoton.icon")); // NOI18N
        eliminarBoton.setText(resourceMap.getString("eliminarBoton.text")); // NOI18N
        eliminarBoton.setName("eliminarBoton"); // NOI18N

        jButton1.setAction(actionMap.get("nuevaEstacion")); // NOI18N
        jButton1.setIcon(resourceMap.getIcon("jButton1.icon")); // NOI18N
        jButton1.setText(resourceMap.getString("jButton1.text")); // NOI18N
        jButton1.setName("jButton1"); // NOI18N

        javax.swing.GroupLayout jPanel1Layout = new javax.swing.GroupLayout(jPanel1);
        jPanel1.setLayout(jPanel1Layout);
        jPanel1Layout.setHorizontalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(11, 11, 11)
                .addComponent(jLabel1))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(4, 4, 4)
                .addComponent(estacionesCombo, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(11, 11, 11)
                .addComponent(jLabel2))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(4, 4, 4)
                .addComponent(nombreEstacion, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(4, 4, 4)
                .addComponent(guardarBoton)
                .addGap(10, 10, 10)
                .addComponent(jButton1)
                .addGap(10, 10, 10)
                .addComponent(eliminarBoton))
        );
        jPanel1Layout.setVerticalGroup(
            jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel1Layout.createSequentialGroup()
                .addGap(12, 12, 12)
                .addComponent(jLabel1)
                .addGap(5, 5, 5)
                .addComponent(estacionesCombo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(11, 11, 11)
                .addComponent(jLabel2)
                .addGap(5, 5, 5)
                .addComponent(nombreEstacion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addGap(10, 10, 10)
                .addGroup(jPanel1Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(guardarBoton)
                    .addComponent(jButton1)
                    .addComponent(eliminarBoton)))
        );

        jButton2.setAction(actionMap.get("mostrarIngresoCombustible")); // NOI18N
        jButton2.setIcon(resourceMap.getIcon("jButton2.icon")); // NOI18N
        jButton2.setText(resourceMap.getString("jButton2.text")); // NOI18N
        jButton2.setName("jButton2"); // NOI18N

        cerrarBoton.setIcon(resourceMap.getIcon("cerrarBoton.icon")); // NOI18N
        cerrarBoton.setText(resourceMap.getString("cerrarBoton.text")); // NOI18N
        cerrarBoton.setName("cerrarBoton"); // NOI18N
        cerrarBoton.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cerrarBotonActionPerformed(evt);
            }
        });

        estacionSeleccionada.setFont(estacionSeleccionada.getFont().deriveFont(estacionSeleccionada.getFont().getStyle() | java.awt.Font.BOLD));
        estacionSeleccionada.setText(resourceMap.getString("estacionSeleccionada.text")); // NOI18N
        estacionSeleccionada.setToolTipText(resourceMap.getString("estacionSeleccionada.toolTipText")); // NOI18N
        estacionSeleccionada.setName("estacionSeleccionada"); // NOI18N

        jLabel10.setText(resourceMap.getString("jLabel10.text")); // NOI18N
        jLabel10.setName("jLabel10"); // NOI18N

        javax.swing.GroupLayout jPanel4Layout = new javax.swing.GroupLayout(jPanel4);
        jPanel4.setLayout(jPanel4Layout);
        jPanel4Layout.setHorizontalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jPanel1, javax.swing.GroupLayout.DEFAULT_SIZE, 317, Short.MAX_VALUE)
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(jLabel10, javax.swing.GroupLayout.PREFERRED_SIZE, 42, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(estacionSeleccionada, javax.swing.GroupLayout.DEFAULT_SIZE, 269, Short.MAX_VALUE))
                    .addGroup(jPanel4Layout.createSequentialGroup()
                        .addComponent(jButton2)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(cerrarBoton, javax.swing.GroupLayout.DEFAULT_SIZE, 101, Short.MAX_VALUE)))
                .addContainerGap())
        );
        jPanel4Layout.setVerticalGroup(
            jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, jPanel4Layout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jPanel1, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(estacionSeleccionada, javax.swing.GroupLayout.DEFAULT_SIZE, 19, Short.MAX_VALUE)
                    .addComponent(jLabel10))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(jPanel4Layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jButton2, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(cerrarBoton))
                .addContainerGap())
        );

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addComponent(jPanel4, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void cerrarBotonActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cerrarBotonActionPerformed
        dispose();
    }//GEN-LAST:event_cerrarBotonActionPerformed

    private void estacionesComboItemStateChanged(java.awt.event.ItemEvent evt) {//GEN-FIRST:event_estacionesComboItemStateChanged
        if(estaciones.getSize()!= 0){
        select = (EstacionServicio) estacionesCombo.getSelectedItem();
        nombreEstacion.setText(select.toString());
        estacionSeleccionada.setText(select.toString());
        }else {
            nombreEstacion.setText("");
            estacionSeleccionada.setText("");
        }
    }//GEN-LAST:event_estacionesComboItemStateChanged

    private void cancelarEliminarActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cancelarEliminarActionPerformed
        eliminarEstacion.dispose();
    }//GEN-LAST:event_cancelarEliminarActionPerformed

    private void formWindowActivated(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowActivated
        if(estaciones.getSize()!= 0){
        select = (EstacionServicio) estacionesCombo.getSelectedItem();
        nombreEstacion.setText(select.toString());
        }
    }//GEN-LAST:event_formWindowActivated

    private void btnCancelarIngresoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_btnCancelarIngresoActionPerformed
        ingresoVolumenCombustible.dispose();

    }//GEN-LAST:event_btnCancelarIngresoActionPerformed

    private void formWindowGainedFocus(java.awt.event.WindowEvent evt) {//GEN-FIRST:event_formWindowGainedFocus
       if(estaciones.getSize()!= 0){
            estacionSeleccionada.setText(select.toString());
        }
    }//GEN-LAST:event_formWindowGainedFocus

    /**
     * @param args the command line arguments
     */
    public static void main(String args[]) {
        /* Set the Nimbus look and feel */
        //<editor-fold defaultstate="collapsed" desc=" Look and feel setting code (optional) ">
        /* If Nimbus (introduced in Java SE 6) is not available, stay with the default look and feel.
         * For details see http://download.oracle.com/javase/tutorial/uiswing/lookandfeel/plaf.html 
         */
        try {
            for (javax.swing.UIManager.LookAndFeelInfo info : javax.swing.UIManager.getInstalledLookAndFeels()) {
                if ("Nimbus".equals(info.getName())) {
                    javax.swing.UIManager.setLookAndFeel(info.getClassName());
                    break;
                }
            }
        } catch (ClassNotFoundException ex) {
            java.util.logging.Logger.getLogger(JDEstacionServicio.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (InstantiationException ex) {
            java.util.logging.Logger.getLogger(JDEstacionServicio.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (IllegalAccessException ex) {
            java.util.logging.Logger.getLogger(JDEstacionServicio.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        } catch (javax.swing.UnsupportedLookAndFeelException ex) {
            java.util.logging.Logger.getLogger(JDEstacionServicio.class.getName()).log(java.util.logging.Level.SEVERE, null, ex);
        }
        //</editor-fold>

        /* Create and display the dialog */
        java.awt.EventQueue.invokeLater(new Runnable() {

            public void run() {
                JDEstacionServicio dialog = new JDEstacionServicio(new javax.swing.JFrame(), true);
                dialog.addWindowListener(new java.awt.event.WindowAdapter() {

                    @Override
                    public void windowClosing(java.awt.event.WindowEvent e) {
                        System.exit(0);
                    }
                });
                dialog.setVisible(true);
            }
        });
    }

    @Action
    public Task guardarEstacion() {
        if(nombreEstacion.getText().isEmpty()){
            return null;
        }
        return new GuardarEstacionTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }

    private class GuardarEstacionTask extends org.jdesktop.application.Task<Object, Void> {
        
        
        GuardarEstacionTask(org.jdesktop.application.Application app) {
            
            super(app);
            select.setNombre(nombreEstacion.getText());
        }
        @Override protected Object doInBackground() {
            EstacionServicioDAO dao = new EstacionServicioDAO();
            dao.conectar();
            dao.guardar(select);
            
            return null;  // return your result
        }
        @Override protected void succeeded(Object result) {
            
        }
    }

    @Action
    public Task nuevaEstacion() {
        nueva = OpcionPanel.showInputDialog(null, "¿Desea añadir una estación de servicio al sistema?", "¿Está seguro?",OpcionPanel.QUESTION_MESSAGE);
        if(nueva == null ||nueva.isEmpty() ) { 
            return null;
        }
        return new NuevaEstacionTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }

    private class NuevaEstacionTask extends org.jdesktop.application.Task<Object, Void> {
        EstacionServicio es = new EstacionServicio();
        ArrayList<EstacionServicio> estServicio = new ArrayList<EstacionServicio>();
        NuevaEstacionTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to NuevaEstacionTask fields, here.
            super(app);
            es.setNombre(nueva);
        }
        @Override protected Object doInBackground() {
            EstacionServicioDAO dao = new EstacionServicioDAO();
            dao.conectar();
            dao.guardar(es);
            estServicio=dao.cargarTodos2Combo();
            return null;  // return your result
        }
        @Override protected void succeeded(Object result) {
            if (!estServicio.isEmpty()) {
                estaciones.removeAllElements();
                
                for (EstacionServicio s: estServicio) {
                        if(s.getEstacionServicioID()!=0)
                         estaciones.addElement(s);
                    }
                }
            OpcionPanel.showMessageDialog(null, "Se añadió correctamente la estación de servicio.", "Nueva", OpcionPanel.INFORMATION_MESSAGE);
        }
    }

    @Action
    public void mostrarEliminarEstacion() {
        estacionReasignar = new DefaultComboBoxModel();
        for(int i=0;i< estaciones.getSize();i++){
            if((EstacionServicio)estaciones.getElementAt(i) != select)
            estacionReasignar.addElement(estaciones.getElementAt(i));
        }
        
        jcomboReasignacion.setModel(estacionReasignar);
        eliminarEstacion.setLocationRelativeTo(null);
        eliminarEstacion.setVisible(true);
    }
    
    @Action
    public void mostrarIngresoCombustible() {
        
        ingresoVolumenCombustible.setLocationRelativeTo(null);
        ingresoVolumenCombustible.setVisible(true);
    }

    @Action
    public Task reasignarEliminarEstacion() {
        if(OpcionPanel.NO_OPTION == 
                OpcionPanel.showConfirmDialog(this, "¿Está seguro?","Advertencia", OpcionPanel.YES_NO_OPTION)){
            return null;
        }
        return new ReasignarEliminarEstacionTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }

    private class ReasignarEliminarEstacionTask extends org.jdesktop.application.Task<Object, Void> {
        EstacionServicio reasgnar = new EstacionServicio();
        int r = -1;
        ReasignarEliminarEstacionTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to ReasignarEliminarEstacionTask fields, here.
            super(app);
            reasgnar = (EstacionServicio) jcomboReasignacion.getSelectedItem();
        }
        @Override protected Object doInBackground() {
            EstacionServicioDAO dao = new EstacionServicioDAO();
            dao.conectar();
            r = dao.reasignarEliminar(select, reasgnar);
            return null;  // return your result
        }
        @Override protected void succeeded(Object result) {
            if(r==-1){
                 OpcionPanel.showMessageDialog(null, "Ocurrió un error al procesar la consulta. \nVuelve a intentar.","Error", OpcionPanel.ERROR_MESSAGE);
            }else{
                OpcionPanel.showMessageDialog(null, "Estación eliminada","Aviso", OpcionPanel.INFORMATION_MESSAGE);
                eliminarEstacion.dispose();
            }
        }
    }

    @Action
    public Task ingresarCombustibleAction() {
        if(comboEstacionIngreso.getSelectedItem() == null || fechaIngreso.getDate() == null || 
                cantidadIngreso.getText().isEmpty()) {
            OpcionPanel.showMessageDialog(rootPane,"Complete los campos obligatorios (marcado con *).", "Error", OpcionPanel.ERROR_MESSAGE);
            return null;
        }
        return new IngresarCombustibleActionTask(org.jdesktop.application.Application.getInstance(zilleprojects.ZilleProjectsApp.class));
    }

    private class IngresarCombustibleActionTask extends org.jdesktop.application.Task<Object, Void> {
        Combustible c = new Combustible();
        IngresarCombustibleActionTask(org.jdesktop.application.Application app) {
            // Runs on the EDT.  Copy GUI state that
            // doInBackground() depends on from parameters
            // to IngresarCombustibleActionTask fields, here.
            super(app);
            c.setEstacionID(((EstacionServicio)estaciones.getElementAt(
                    comboEstacionIngreso.getSelectedIndex())).getEstacionServicioID());
            c.setFecha(fechaIngreso.getDate());
            c.setCantidad(Double.parseDouble(cantidadIngreso.getText()));
            c.setResponsable(responsableIngreso.getText());
        }
        @Override protected Object doInBackground() {
            CombustibleDAO cdao = new CombustibleDAO();
            cdao.conectar();
            int r = cdao.guardar(c);
            if(r > 0) c.setCombustibleID(r);
            return null;  // return your result
        }
        @Override protected void succeeded(Object result) {
            if(c.getCombustibleID() > 0) {
                OpcionPanel.showMessageDialog(null, "Se registrado correctamente el ingreso de combustible.", "Éxito", OpcionPanel.INFORMATION_MESSAGE);
                ingresoVolumenCombustible.dispose();
                limpiarCamposIngreso();
            }else {
                OpcionPanel.showMessageDialog(null, "Ocurrió un error al procesar el ingreso.\nIntente nuevamente.", "Error", OpcionPanel.ERROR_MESSAGE);
                
            }
        }
    }
    
    
    private void limpiarCamposIngreso(){
        fechaIngreso.setDate(null);
        cantidadIngreso.setText("");
        responsableIngreso.setText("");
    }




    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton asignarEliminarBoton;
    private javax.swing.JButton btnCancelarIngreso;
    private javax.swing.JButton btnIngresarVolumen;
    private javax.swing.JButton cancelarEliminar;
    private javax.swing.JTextField cantidadIngreso;
    private javax.swing.JButton cerrarBoton;
    private javax.swing.JComboBox comboEstacionIngreso;
    private javax.swing.JButton eliminarBoton;
    private javax.swing.JDialog eliminarEstacion;
    private javax.swing.JLabel estacionSeleccionada;
    private javax.swing.JComboBox estacionesCombo;
    private com.toedter.calendar.JDateChooser fechaIngreso;
    private javax.swing.JButton guardarBoton;
    private javax.swing.JDialog ingresoVolumenCombustible;
    private javax.swing.JButton jButton1;
    private javax.swing.JButton jButton2;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel10;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel6;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JPanel jPanel1;
    private javax.swing.JPanel jPanel2;
    private javax.swing.JPanel jPanel3;
    private javax.swing.JPanel jPanel4;
    private javax.swing.JComboBox jcomboReasignacion;
    private javax.swing.JTextField nombreEstacion;
    private javax.swing.JTextField responsableIngreso;
    // End of variables declaration//GEN-END:variables
    static public DefaultComboBoxModel estaciones = new DefaultComboBoxModel(); 
    private EstacionServicio select = new EstacionServicio();
    public DefaultComboBoxModel estacionReasignar = new DefaultComboBoxModel();
    String nueva = "";
    
}
